<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.36">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Loizos Konstantinou – presidents_analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../favicon.ico" rel="icon">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K5PK7P3TJZ"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-K5PK7P3TJZ', { 'anonymize_ip': true});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Loizos Konstantinou</span>
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../blog.html">Blog</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../software/index.html">Projects</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../cv.html">Resume</a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/loizoskon/"><i class="bi bi-linkedin" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/LoizosKo"><i class="bi bi-github" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/loizoskon"><i class="bi bi-twitter" role="img">
</i> 
 </a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">



<p>Refer to the state of the union addresses made by US presidents since WWII. To simplify the task, only looks at the first address for each president. (You can find the archive here: https://www.presidency.ucsb.edu/documents/presidential-documents-archive-guidebook/annual-messages-congress-the-state-the-union (Links to an external site.))</p>
<ol type="1">
<li>Look at the frequency of words</li>
<li>Look at topic modeling (what do they talk about)</li>
<li></li>
</ol>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># We start as always with importing the necessary libraries</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests <span class="co">#PACKAGE THAT allows us download texts from online (e.g. I request Moby Dick's online book without downloading it)</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> re</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> requests <span class="im">import</span> get</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bs4 <span class="im">import</span> BeautifulSoup <span class="co">#Submodule of bs4 (I don't need the entire package). </span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> nltk <span class="co">#natural language processing (NLP)</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> nltk.sentiment.vader <span class="im">import</span> SentimentIntensityAnalyzer</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> collections <span class="im">import</span> Counter </span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> requests <span class="im">import</span> get</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.graph_objs <span class="im">as</span> go</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.offline <span class="im">as</span> py</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.feature_extraction.text <span class="im">import</span> CountVectorizer</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.decomposition <span class="im">import</span> LatentDirichletAllocation <span class="im">as</span> LDA</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> itertools</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> gensim <span class="im">import</span> corpora, similarities</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> gensim.models <span class="im">import</span> TfidfModel</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.cluster <span class="im">import</span> hierarchy</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> nltk.stem <span class="im">import</span> PorterStemmer</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pickle</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> warnings</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> wordninja</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> selenium <span class="im">import</span> webdriver</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> selenium.webdriver.common.by <span class="im">import</span> By</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> autocorrect <span class="im">import</span> Speller</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> nltk.stem <span class="im">import</span> WordNetLemmatizer</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> nltk.corpus <span class="im">import</span> wordnet</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> contractions</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> nltk</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.feature_extraction.text <span class="im">import</span> TfidfVectorizer</span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> nltk.tokenize <span class="im">import</span> word_tokenize</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.cluster.vq <span class="im">import</span> kmeans, vq</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.naive_bayes <span class="im">import</span> MultinomialNB</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> train_test_split</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn <span class="im">import</span> metrics</span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.svm <span class="im">import</span> LinearSVC</span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a><span class="co">#for the code to work</span></span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>nltk.download(<span class="st">'averaged_perceptron_tagger'</span>)</span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>nltk.download(<span class="st">'wordnet'</span>)</span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>nltk.download(<span class="st">'vader_lexicon'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>[nltk_data] Downloading package averaged_perceptron_tagger to
[nltk_data]     /Users/loizoskon/nltk_data...
[nltk_data]   Package averaged_perceptron_tagger is already up-to-
[nltk_data]       date!
[nltk_data] Downloading package wordnet to
[nltk_data]     /Users/loizoskon/nltk_data...
[nltk_data]   Package wordnet is already up-to-date!
[nltk_data] Downloading package vader_lexicon to
[nltk_data]     /Users/loizoskon/nltk_data...
[nltk_data]   Package vader_lexicon is already up-to-date!</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="1">
<pre><code>True</code></pre>
</div>
</div>
<ol type="1">
<li>Refer to the state of the union addresses made by US presidents since WWII. To simplify the task, only looks at the first address for each president. (You can find the archive here: https://www.presidency.ucsb.edu/documents/presidential-documents-archive-guidebook/annual-messages-congress-the-state-the-union (Links to an external site.))</li>
</ol>
<p>We ask BeautifulSoup to locate a table on the page, scan through the rows of this table, and then get the first link on each of the rows.</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">"https://www.presidency.ucsb.edu/documents/presidential-documents-archive-guidebook/annual-messages-congress-the-state-the-union"</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co">#https://www.presidency.ucsb.edu/documents/app-categories/spoken-addresses-and-remarks/presidential/state-the-union-addresses</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Find the first instance of a table on the page (this will simplify work for us)</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> get(url)</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>soup <span class="op">=</span> BeautifulSoup(response.text, <span class="st">'html.parser'</span>)</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>table <span class="op">=</span> soup.find(<span class="st">'table'</span>)</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Create an empty list to keep all the links</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>links <span class="op">=</span> []</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Look through each row of the table to identify if there are links,</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="co"># if there are any, then get the first link, if there aren't any, just skip that row</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> table.findAll(<span class="st">"tr"</span>):</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>    trs <span class="op">=</span> table.findAll(<span class="st">'tr'</span>) </span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> tr <span class="kw">in</span> trs:</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>        <span class="cf">try</span>:</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>            link <span class="op">=</span> tr.find(<span class="st">'a'</span>)[<span class="st">'href'</span>] <span class="co"># Finds the first link in a row</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>            links.append(link) <span class="co"># Appends that link to the links list.</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>        <span class="cf">except</span>:</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>            <span class="cf">pass</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># We can also find all instances of the links on a page and that's what the code below does</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="co"># You can use the code below but I want to solve a more general version of the homework, </span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co"># so I will use this code here:</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co">############</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>trs<span class="op">=</span> table.findAll(<span class="st">'tr'</span>)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> tr <span class="kw">in</span> trs:</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>        aas <span class="op">=</span> tr.find_all(<span class="st">'a'</span>) <span class="co"># Finds the first link in a row</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> a <span class="kw">in</span> aas:</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>            link <span class="op">=</span> a[<span class="st">'href'</span>]</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>            links.append(link) <span class="co"># Appends that link to the links list.</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span>:</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">pass</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="co"># #</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="co"># #links</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a><span class="co"># #############</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="co"># # Note that we had to use the try: and except:,</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a><span class="co"># # because otherwise the code would result in an error as some rows don't have any links    </span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a><span class="co"># # Uncomment the code below to see this for yourself.</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a><span class="co"># # Select the links that are needed</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>links_needed <span class="op">=</span> links[<span class="dv">0</span>:<span class="dv">22</span>]</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a><span class="co"># for tr in trs:</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a><span class="co">#     link = tr.find('a')['href'] # Finds the first link in a row</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a><span class="co">#     links.append(link) # Appends that link to the links list.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Links now has all the links we needed. I can save them to an excel file </span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="co"># just in case I need them</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>pd.DataFrame(links).to_excel(<span class="st">"links.xlsx"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># We can now go through individual links and extract the information we want.</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co"># If we examine the pages of each speech, we will notice each speech is stored inside</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"># the following tag "&lt;div class="field-docs-content"&gt; &lt;/div&gt;". </span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co"># That's what we can grab.</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co"># We can also grab the date stored inside the following tag:</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co">#  &lt;div class="field-docs-start-date-time"&gt;&lt;/div&gt;</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Finally, to make our life even more easy, let's grab the name of the President</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="co"># It's in the tag "&lt;div class="field-title"&gt;&lt;/div&gt;"</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="co"># I will also grab the title of the speech just in case I need to use it since the titles differed somewhat</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="co"># We start with creating empty containers</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>names <span class="op">=</span> []</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>dates <span class="op">=</span> []</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>speeches <span class="op">=</span> []</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>titles <span class="op">=</span> [] </span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a><span class="co">#for link in links:</span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a><span class="co">#     try:</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a><span class="co">#         response = get(link)</span></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a><span class="co">#    except: # I need this because Nixon's speech in 1973 in done in an annoying way, it's a footnote actually</span></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a><span class="co">#        pass # so the code without it would result in an error</span></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a><span class="co">#     soup = BeautifulSoup(response.text, 'html.parser')</span></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a><span class="co">#     name =  soup.find("div", class_ ="field-title").get_text(strip=True)</span></span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a><span class="co">#  #   date = soup.find("div", class_ ="field-docs-start-date-time").get_text(strip=True)</span></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a><span class="co">#  #   title = soup.find("div", class_ ="field-ds-doc-title").get_text(strip=True)</span></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a><span class="co"># #    #speech = soup.find("div", class_ ="field-docs-content").get_text(strip=True)</span></span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a><span class="co">#     names.append(name)</span></span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a><span class="co">#   #  dates.append(date)</span></span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a><span class="co">#  #   titles.append(title)</span></span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a><span class="co">#    speeches.append(speech)</span></span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a><span class="co">#    print(names)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame({<span class="st">'name'</span>: names, <span class="st">'date'</span>: dates, <span class="st">'title'</span>: titles, <span class="st">"speech"</span>: speeches})</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>display(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>name</th>
      <th>date</th>
      <th>title</th>
      <th>speech</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">#df.to_excel("speeches.xlsx")</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co">#print(date)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># #create a list of president names</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>PresidentName <span class="op">=</span> [<span class="st">'Joseph R. Biden'</span>, <span class="st">'Donald J. Trump'</span>, <span class="st">'Barack Obama'</span>, <span class="st">'George W. Bush'</span>,</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>                  <span class="st">'William J. Clinton'</span>, <span class="st">'George Bush'</span>, <span class="st">'Ronald Reagan'</span>, <span class="st">'Jimmy Carter'</span>,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>                  <span class="st">'Gerald R. Ford'</span>,<span class="st">'Richard Nixon'</span>, <span class="st">'Lyndon B. Johnson'</span>,<span class="st">'Dwight D. Eisenhower'</span>,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>                  <span class="st">'Harry S. Truman'</span>, <span class="st">'Franklin D. Roosevelt'</span>]</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="co"># #manually extract linksof first speech of each president</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>link_index <span class="op">=</span> [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">7</span>,<span class="dv">14</span>,<span class="dv">22</span>,<span class="dv">30</span>,<span class="dv">34</span>,<span class="dv">42</span>,<span class="dv">49</span>,<span class="dv">52</span>,<span class="dv">59</span>,<span class="dv">68</span>,<span class="dv">79</span>,<span class="dv">91</span>]</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>link_index <span class="op">=</span> [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">7</span>,<span class="dv">14</span>,<span class="dv">22</span>,<span class="dv">30</span>,<span class="dv">34</span>,<span class="dv">42</span>,<span class="dv">49</span>,<span class="dv">52</span>,<span class="dv">59</span>,<span class="dv">65</span>,<span class="dv">68</span>,<span class="dv">79</span>]</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>newlink<span class="op">=</span>[links[i] <span class="cf">for</span> i <span class="kw">in</span> link_index]</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(PresidentName)</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(newlink)</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="co">#COMMAND + SLASH</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>['Joseph R. Biden', 'Donald J. Trump', 'Barack Obama', 'George W. Bush', 'William J. Clinton', 'George Bush', 'Ronald Reagan', 'Jimmy Carter', 'Gerald R. Ford', 'Richard Nixon', 'Lyndon B. Johnson', 'Dwight D. Eisenhower', 'Harry S. Truman', 'Franklin D. Roosevelt']
['https://www.presidency.ucsb.edu/ws/index.php?pid=123408', 'https://www.presidency.ucsb.edu/ws/index.php?pid=102826', 'https://www.presidency.ucsb.edu/ws/index.php?pid=47232', 'https://www.presidency.ucsb.edu/ws/index.php?pid=2921', 'https://www.presidency.ucsb.edu/ws/index.php?pid=16603', 'https://www.presidency.ucsb.edu/ws/index.php?pid=29558', 'https://www.presidency.ucsb.edu/ws/index.php?pid=29542', 'https://www.presidency.ucsb.edu/documents/first-annual-message-11', 'https://www.presidency.ucsb.edu/ws/index.php?pid=29486', 'https://www.presidency.ucsb.edu/ws/index.php?pid=29475', 'https://www.presidency.ucsb.edu/ws/index.php?pid=29447', 'https://www.presidency.ucsb.edu/ws/index.php?pid=3996', 'https://www.presidency.ucsb.edu/ws/index.php?pid=4121', 'https://www.presidency.ucsb.edu/documents/address-before-joint-session-the-congress-the-state-the-union-25']</code></pre>
</div>
</div>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># #create a dataframe</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame()</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'PresidentName'</span>] <span class="op">=</span> PresidentName</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Links'</span>] <span class="op">=</span> newlink</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>display(df.Links.values)</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre><code>array(['https://www.presidency.ucsb.edu/ws/index.php?pid=123408',
       'https://www.presidency.ucsb.edu/ws/index.php?pid=102826',
       'https://www.presidency.ucsb.edu/ws/index.php?pid=47232',
       'https://www.presidency.ucsb.edu/ws/index.php?pid=2921',
       'https://www.presidency.ucsb.edu/ws/index.php?pid=16603',
       'https://www.presidency.ucsb.edu/ws/index.php?pid=29558',
       'https://www.presidency.ucsb.edu/ws/index.php?pid=29542',
       'https://www.presidency.ucsb.edu/documents/first-annual-message-11',
       'https://www.presidency.ucsb.edu/ws/index.php?pid=29486',
       'https://www.presidency.ucsb.edu/ws/index.php?pid=29475',
       'https://www.presidency.ucsb.edu/ws/index.php?pid=29447',
       'https://www.presidency.ucsb.edu/ws/index.php?pid=3996',
       'https://www.presidency.ucsb.edu/ws/index.php?pid=4121',
       'https://www.presidency.ucsb.edu/documents/address-before-joint-session-the-congress-the-state-the-union-25'],
      dtype=object)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>            PresidentName                                              Links
0         Joseph R. Biden  https://www.presidency.ucsb.edu/ws/index.php?p...
1         Donald J. Trump  https://www.presidency.ucsb.edu/ws/index.php?p...
2            Barack Obama  https://www.presidency.ucsb.edu/ws/index.php?p...
3          George W. Bush  https://www.presidency.ucsb.edu/ws/index.php?p...
4      William J. Clinton  https://www.presidency.ucsb.edu/ws/index.php?p...
5             George Bush  https://www.presidency.ucsb.edu/ws/index.php?p...
6           Ronald Reagan  https://www.presidency.ucsb.edu/ws/index.php?p...
7            Jimmy Carter  https://www.presidency.ucsb.edu/documents/firs...
8          Gerald R. Ford  https://www.presidency.ucsb.edu/ws/index.php?p...
9           Richard Nixon  https://www.presidency.ucsb.edu/ws/index.php?p...
10      Lyndon B. Johnson  https://www.presidency.ucsb.edu/ws/index.php?p...
11   Dwight D. Eisenhower  https://www.presidency.ucsb.edu/ws/index.php?p...
12        Harry S. Truman  https://www.presidency.ucsb.edu/ws/index.php?p...
13  Franklin D. Roosevelt  https://www.presidency.ucsb.edu/documents/addr...</code></pre>
</div>
</div>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>outcome <span class="op">=</span> []</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> lnk <span class="kw">in</span> df.Links.values:</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>     r <span class="op">=</span> requests.get(lnk)</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>     r.encoding <span class="op">=</span> <span class="st">'utf-8'</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>     html <span class="op">=</span> r.text</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>     soup <span class="op">=</span> BeautifulSoup(html,<span class="st">'html.parser'</span>)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>     text <span class="op">=</span> soup.get_text()</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>     outcome.append(text)</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="co"># print(pd.DataFrame(outcome))#all the speeches in tabular format</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>outcome1 <span class="op">=</span> [x.replace(<span class="st">"</span><span class="ch">\n</span><span class="st">"</span>, <span class="st">""</span>) <span class="cf">for</span> x <span class="kw">in</span> outcome]<span class="co">#I replace 'n' with nothing</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>df2 <span class="op">=</span> pd.DataFrame(outcome1)<span class="co">#I create a new dataframe</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>df2[[<span class="dv">0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>0</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Address Before a Joint Session of the Congress...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Address Before a Joint Session of Congress on ...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Address Before a Joint Session of Congress on ...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Annual Message to the Congress on the State of...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Radio Address Summarizing the State of the Uni...</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Fifth Annual Message | The American Presidency...</td>
    </tr>
    <tr>
      <th>6</th>
      <td>First Annual Message | The American Presidency...</td>
    </tr>
    <tr>
      <th>7</th>
      <td>First Annual Message | The American Presidency...</td>
    </tr>
    <tr>
      <th>8</th>
      <td>First Annual Message | The American Presidency...</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Fifth Annual Message | The American Presidency...</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Fifth Annual Message | The American Presidency...</td>
    </tr>
    <tr>
      <th>11</th>
      <td>State of the Union Message to the Congress: Ov...</td>
    </tr>
    <tr>
      <th>12</th>
      <td>State of the Union Message to the Congress on ...</td>
    </tr>
    <tr>
      <th>13</th>
      <td>Address Before a Joint Session of the Congress...</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<ol type="1">
<li>What are the 10 most common “meaningful” words used by each president since Harry Truman? What does it say about the shift in priorities in the American politics?</li>
</ol>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Previous speech links were not scraped so we import the excel that includes them here for the analysis</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>speeches <span class="op">=</span> pd.read_excel(<span class="st">'state_of_the_union_speeches.xlsx'</span>)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co">#I use a function and include the code that want to apply for every president.</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> my_function(x):</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>    r <span class="op">=</span> requests.get(x[<span class="st">'html'</span>])</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>    r.encoding <span class="op">=</span> <span class="st">'utf-8'</span> </span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>    html <span class="op">=</span> r.text </span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">#print(html[0:2000]) </span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>    soup <span class="op">=</span> BeautifulSoup(html, <span class="st">"html.parser"</span>)</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>    president_text <span class="op">=</span> soup.get_text()</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">#print(president_text[0:2000])</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>    <span class="co">#THE DOCUMENT IS TOKENIZED -- SPLITTING TEXT INTO INDIVUDUAL WORDS</span></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>    tokenizer <span class="op">=</span> nltk.tokenize.RegexpTokenizer(<span class="st">'\w+'</span>)</span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>    tokens <span class="op">=</span> tokenizer.tokenize(president_text) </span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>    <span class="co">#print(tokens[0:10])</span></span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Defining stopwords and adding more to the list. This list is same across all 14 presidents' speeches. </span></span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>    sw <span class="op">=</span> nltk.corpus.stopwords.words(<span class="st">'english'</span>) </span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>    newsw <span class="op">=</span> [<span class="st">'annual'</span>, <span class="st">'number'</span>, <span class="st">'help'</span>, <span class="st">'thank'</span>, <span class="st">'get'</span>,  <span class="st">'going'</span>, <span class="st">'think'</span>, <span class="st">'look'</span>, <span class="st">'said'</span>, </span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>             <span class="st">'create'</span>, <span class="st">'citizens'</span>, <span class="st">'citizen'</span>, <span class="st">'across'</span>, <span class="st">'since'</span>, <span class="st">'go'</span>, <span class="st">'believe'</span>, <span class="st">'say'</span>, </span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>             <span class="st">'long'</span>, <span class="st">'better'</span>, <span class="st">'plan'</span>, <span class="st">'national'</span>, <span class="st">'ask'</span> <span class="st">'10'</span>, <span class="st">'much'</span>, <span class="st">'good'</span>, <span class="st">'great'</span>, </span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>             <span class="st">'best'</span>, <span class="st">'cannot'</span>, <span class="st">'still'</span>, <span class="st">'know'</span>, <span class="st">'years'</span>, <span class="st">'1'</span>, <span class="st">'major'</span>, <span class="st">'want'</span>, <span class="st">'able'</span>, <span class="st">'put'</span>, </span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>             <span class="st">'capacity'</span>, <span class="st">'programs'</span>, <span class="st">'per'</span>, <span class="st">'percent'</span>, <span class="st">'million'</span>, <span class="st">'act'</span>, <span class="st">'provide'</span>, <span class="st">'afford'</span>, </span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>             <span class="st">'needed'</span>, <span class="st">'may'</span>, <span class="st">'possible'</span>, <span class="st">'full'</span>, <span class="st">'2'</span>, <span class="st">'effort'</span>, <span class="st">'meeting'</span>, <span class="st">'address'</span>, <span class="st">'ever'</span>, </span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a>             <span class="st">'measures'</span>, <span class="st">'ago'</span>, <span class="st">'delivered'</span>, <span class="st">'5'</span>, <span class="st">'program'</span>, <span class="st">'past'</span>, <span class="st">'future'</span>, <span class="st">'need'</span>, <span class="st">'needs'</span>, </span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a>             <span class="st">'house'</span>, <span class="st">'also'</span>, <span class="st">'tonight'</span>, <span class="st">'propose'</span>, <span class="st">'toward'</span>, <span class="st">'continue'</span>, <span class="st">'society'</span>,<span class="st">'country'</span>, </span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a>             <span class="st">'seek'</span>, <span class="st">'period'</span>, <span class="st">'year'</span>, <span class="st">'man'</span>, <span class="st">'men'</span>, <span class="st">'one'</span>, <span class="st">'areas'</span>, <span class="st">'begin'</span>, <span class="st">'live'</span>, <span class="st">'make'</span>, </span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a>             <span class="st">'let'</span>, <span class="st">'upon'</span>, <span class="st">'well'</span>, <span class="st">'office'</span>, <span class="st">'meet'</span>, <span class="st">'make'</span> <span class="st">'citizens'</span>, <span class="st">'human'</span>, <span class="st">'self'</span>, <span class="st">'among'</span>, </span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a>             <span class="st">'peoples'</span>, <span class="st">'affairs'</span>, <span class="st">'would'</span>, <span class="st">'field'</span>, <span class="st">'first'</span>, <span class="st">'interest'</span>, <span class="st">'today'</span>, <span class="st">'recommendations'</span>, </span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a>             <span class="st">'recomenndation'</span>, <span class="st">'within'</span>, <span class="st">'shall'</span>, <span class="st">'administration'</span>, <span class="st">'nation'</span>, <span class="st">'nations'</span>, <span class="st">'us'</span>, <span class="st">'we'</span>, </span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a>             <span class="st">'policy'</span>, <span class="st">'legislation'</span>, <span class="st">'time'</span>, <span class="st">'new'</span>, <span class="st">'many'</span>, <span class="st">'several'</span>, <span class="st">'few'</span>, <span class="st">'government'</span>, <span class="st">'world'</span>, </span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a>             <span class="st">'people'</span>, <span class="st">'united'</span>, <span class="st">'states'</span>, <span class="st">'system'</span>, <span class="st">'every'</span>, <span class="st">'people'</span>, <span class="st">'must'</span>, <span class="st">'626'</span>,<span class="st">'give'</span>, </span>
<span id="cb17-36"><a href="#cb17-36" aria-hidden="true" tabindex="-1"></a>             <span class="st">'categories'</span>, <span class="st">'226762'</span>, <span class="st">'17608'</span>, <span class="st">'24532'</span>, <span class="st">'430'</span>, <span class="st">'38'</span>,<span class="st">'statistics'</span>, <span class="st">'analyses'</span>, </span>
<span id="cb17-37"><a href="#cb17-37" aria-hidden="true" tabindex="-1"></a>             <span class="st">'miscellaneous'</span>, <span class="st">'congressional'</span>, <span class="st">'skip'</span>, <span class="st">'content'</span>, <span class="st">'documents'</span>, <span class="st">'attributes'</span>, <span class="st">'media'</span>, <span class="st">'message'</span>, </span>
<span id="cb17-38"><a href="#cb17-38" aria-hidden="true" tabindex="-1"></a>             <span class="st">'congress'</span>, <span class="st">'state'</span>, <span class="st">'union'</span>, <span class="st">'america'</span>, <span class="st">'american'</span>, <span class="st">'americans'</span>, <span class="st">'presidency'</span>, <span class="st">'president'</span>, </span>
<span id="cb17-39"><a href="#cb17-39" aria-hidden="true" tabindex="-1"></a>             <span class="st">'project'</span>, <span class="st">'search'</span>, <span class="st">'toggle'</span>, <span class="st">'navigation'</span>, <span class="st">'search'</span>, <span class="st">'guidebook'</span>, <span class="st">'archive'</span>, <span class="st">'category'</span>, </span>
<span id="cb17-40"><a href="#cb17-40" aria-hidden="true" tabindex="-1"></a>             <span class="st">'main'</span>, <span class="st">'take'</span>,<span class="st">'like'</span>,<span class="st">'yet'</span>,<span class="st">'j'</span>,<span class="st">'000'</span>, <span class="st">'ask'</span>, <span class="st">'1974'</span>, <span class="st">'federal'</span>, <span class="st">'http'</span>, <span class="st">'www'</span>, <span class="st">'usb'</span>,</span>
<span id="cb17-41"><a href="#cb17-41" aria-hidden="true" tabindex="-1"></a>             <span class="st">'edu'</span>, <span class="st">'the'</span>, <span class="st">'the'</span>, <span class="st">'before'</span>, <span class="st">'joint'</span>, <span class="st">'session'</span>, <span class="st">'the'</span>,<span class="st">'american'</span>, <span class="st">'america'</span>,</span>
<span id="cb17-42"><a href="#cb17-42" aria-hidden="true" tabindex="-1"></a>            <span class="st">'year'</span>,<span class="st">'congress'</span>,<span class="st">'let'</span>,<span class="st">'time'</span>, <span class="st">'nation'</span>, <span class="st">'new'</span>, <span class="st">'people'</span>]</span>
<span id="cb17-43"><a href="#cb17-43" aria-hidden="true" tabindex="-1"></a>    sw.extend(newsw)</span>
<span id="cb17-44"><a href="#cb17-44" aria-hidden="true" tabindex="-1"></a>    <span class="co">#print(sw[0:30])</span></span>
<span id="cb17-45"><a href="#cb17-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-46"><a href="#cb17-46" aria-hidden="true" tabindex="-1"></a>    president_words <span class="op">=</span> [token.lower() <span class="cf">for</span> token <span class="kw">in</span> tokens] </span>
<span id="cb17-47"><a href="#cb17-47" aria-hidden="true" tabindex="-1"></a>    words_ns <span class="op">=</span> [word <span class="cf">for</span> word <span class="kw">in</span> president_words <span class="cf">if</span> word <span class="kw">not</span> <span class="kw">in</span> sw] </span>
<span id="cb17-48"><a href="#cb17-48" aria-hidden="true" tabindex="-1"></a>    <span class="co">#print(words_ns[:20])</span></span>
<span id="cb17-49"><a href="#cb17-49" aria-hidden="true" tabindex="-1"></a>    president_ns <span class="op">=</span> <span class="st">" "</span>.join(words_ns)</span>
<span id="cb17-50"><a href="#cb17-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-51"><a href="#cb17-51" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Determining the most commoon words </span></span>
<span id="cb17-52"><a href="#cb17-52" aria-hidden="true" tabindex="-1"></a>    count <span class="op">=</span> Counter(words_ns)</span>
<span id="cb17-53"><a href="#cb17-53" aria-hidden="true" tabindex="-1"></a>    top_ten_president <span class="op">=</span> count.most_common(<span class="dv">10</span>)</span>
<span id="cb17-54"><a href="#cb17-54" aria-hidden="true" tabindex="-1"></a>    top_10_string <span class="op">=</span> <span class="st">','</span>.join([<span class="bu">str</span>(x) <span class="cf">for</span> x <span class="kw">in</span> top_ten_president])</span>
<span id="cb17-55"><a href="#cb17-55" aria-hidden="true" tabindex="-1"></a>    print_list <span class="op">=</span> [top_10_string]</span>
<span id="cb17-56"><a href="#cb17-56" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> print_list</span>
<span id="cb17-57"><a href="#cb17-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-58"><a href="#cb17-58" aria-hidden="true" tabindex="-1"></a><span class="co">#for i in range(13):</span></span>
<span id="cb17-59"><a href="#cb17-59" aria-hidden="true" tabindex="-1"></a><span class="co"># #    fun(df2)</span></span>
<span id="cb17-60"><a href="#cb17-60" aria-hidden="true" tabindex="-1"></a>top_list <span class="op">=</span> []</span>
<span id="cb17-61"><a href="#cb17-61" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> index, row <span class="kw">in</span> speeches.iterrows():</span>
<span id="cb17-62"><a href="#cb17-62" aria-hidden="true" tabindex="-1"></a>    top <span class="op">=</span> my_function(row)</span>
<span id="cb17-63"><a href="#cb17-63" aria-hidden="true" tabindex="-1"></a>    top_list.append(top)</span>
<span id="cb17-64"><a href="#cb17-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-65"><a href="#cb17-65" aria-hidden="true" tabindex="-1"></a>speeches[<span class="st">'top ten'</span>] <span class="op">=</span> top_list</span>
<span id="cb17-66"><a href="#cb17-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-67"><a href="#cb17-67" aria-hidden="true" tabindex="-1"></a>display(speeches)</span>
<span id="cb17-68"><a href="#cb17-68" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(speeches)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>president</th>
      <th>year</th>
      <th>party</th>
      <th>html</th>
      <th>top ten</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Hoover</td>
      <td>1929</td>
      <td>republican</td>
      <td>https://www.presidency.ucsb.edu/documents/annu...</td>
      <td>[('public', 33),('law', 25),('service', 23),('...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>FD_Roosvelt</td>
      <td>1934</td>
      <td>democrat</td>
      <td>https://www.presidency.ucsb.edu/documents/annu...</td>
      <td>[('industrial', 9),('work', 8),('recovery', 7)...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Truman</td>
      <td>1949</td>
      <td>democrat</td>
      <td>https://www.presidency.ucsb.edu/documents/annu...</td>
      <td>[('prosperity', 12),('production', 12),('power...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Eisenhower</td>
      <td>1957</td>
      <td>republican</td>
      <td>https://www.presidency.ucsb.edu/documents/annu...</td>
      <td>[('free', 16),('security', 16),('economy', 12)...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Kennedy</td>
      <td>1961</td>
      <td>democrat</td>
      <td>https://www.presidency.ucsb.edu/documents/annu...</td>
      <td>[('economic', 16),('development', 10),('peace'...</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Lyndon</td>
      <td>1965</td>
      <td>democrat</td>
      <td>https://www.presidency.ucsb.edu/documents/annu...</td>
      <td>[('freedom', 12),('life', 9),('progress', 8),(...</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Nixon</td>
      <td>1974</td>
      <td>republican</td>
      <td>https://www.presidency.ucsb.edu/documents/addr...</td>
      <td>[('peace', 27),('energy', 17),('war', 8),('pro...</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Ford</td>
      <td>1975</td>
      <td>republican</td>
      <td>https://www.presidency.ucsb.edu/documents/addr...</td>
      <td>[('energy', 25),('oil', 20),('tax', 17),('econ...</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Carter</td>
      <td>1978</td>
      <td>democrat</td>
      <td>https://www.presidency.ucsb.edu/documents/the-...</td>
      <td>[('inflation', 17),('economic', 14),('tax', 13...</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Reagan</td>
      <td>1985</td>
      <td>republican</td>
      <td>https://www.presidency.ucsb.edu/documents/addr...</td>
      <td>[('freedom', 20),('tax', 16),('growth', 14),('...</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Bush</td>
      <td>1989</td>
      <td>republican</td>
      <td>https://www.presidency.ucsb.edu/documents/addr...</td>
      <td>[('budget', 17),('work', 12),('hope', 10),('dr...</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Clinton</td>
      <td>1997</td>
      <td>democrat</td>
      <td>https://www.presidency.ucsb.edu/documents/addr...</td>
      <td>[('children', 24),('work', 21),('budget', 17),...</td>
    </tr>
    <tr>
      <th>12</th>
      <td>Bush</td>
      <td>2005</td>
      <td>republican</td>
      <td>https://www.presidency.ucsb.edu/documents/addr...</td>
      <td>[('security', 29),('freedom', 20),('social', 1...</td>
    </tr>
    <tr>
      <th>13</th>
      <td>Obama</td>
      <td>2013</td>
      <td>democrat</td>
      <td>https://www.presidency.ucsb.edu/documents/addr...</td>
      <td>[('jobs', 32),('work', 20),('energy', 18),('fa...</td>
    </tr>
    <tr>
      <th>14</th>
      <td>Trump</td>
      <td>2018</td>
      <td>republican</td>
      <td>https://www.presidency.ucsb.edu/documents/addr...</td>
      <td>[('tax', 15),('last', 13),('together', 13),('w...</td>
    </tr>
    <tr>
      <th>15</th>
      <td>Joe</td>
      <td>2022</td>
      <td>democrat</td>
      <td>https://www.presidency.ucsb.edu/documents/addr...</td>
      <td>[('folks', 19),('see', 15),('families', 15),('...</td>
    </tr>
  </tbody>
</table>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>      president  year       party  \
0        Hoover  1929  republican   
1   FD_Roosvelt  1934    democrat   
2        Truman  1949    democrat   
3    Eisenhower  1957  republican   
4       Kennedy  1961    democrat   
5        Lyndon  1965    democrat   
6         Nixon  1974  republican   
7          Ford  1975  republican   
8        Carter  1978    democrat   
9        Reagan  1985  republican   
10         Bush  1989  republican   
11      Clinton  1997    democrat   
12         Bush  2005  republican   
13        Obama  2013    democrat   
14        Trump  2018  republican   
15          Joe  2022    democrat   

                                                 html  \
0   https://www.presidency.ucsb.edu/documents/annu...   
1   https://www.presidency.ucsb.edu/documents/annu...   
2   https://www.presidency.ucsb.edu/documents/annu...   
3   https://www.presidency.ucsb.edu/documents/annu...   
4   https://www.presidency.ucsb.edu/documents/annu...   
5   https://www.presidency.ucsb.edu/documents/annu...   
6   https://www.presidency.ucsb.edu/documents/addr...   
7   https://www.presidency.ucsb.edu/documents/addr...   
8   https://www.presidency.ucsb.edu/documents/the-...   
9   https://www.presidency.ucsb.edu/documents/addr...   
10  https://www.presidency.ucsb.edu/documents/addr...   
11  https://www.presidency.ucsb.edu/documents/addr...   
12  https://www.presidency.ucsb.edu/documents/addr...   
13  https://www.presidency.ucsb.edu/documents/addr...   
14  https://www.presidency.ucsb.edu/documents/addr...   
15  https://www.presidency.ucsb.edu/documents/addr...   

                                              top ten  
0   [('public', 33),('law', 25),('service', 23),('...  
1   [('industrial', 9),('work', 8),('recovery', 7)...  
2   [('prosperity', 12),('production', 12),('power...  
3   [('free', 16),('security', 16),('economy', 12)...  
4   [('economic', 16),('development', 10),('peace'...  
5   [('freedom', 12),('life', 9),('progress', 8),(...  
6   [('peace', 27),('energy', 17),('war', 8),('pro...  
7   [('energy', 25),('oil', 20),('tax', 17),('econ...  
8   [('inflation', 17),('economic', 14),('tax', 13...  
9   [('freedom', 20),('tax', 16),('growth', 14),('...  
10  [('budget', 17),('work', 12),('hope', 10),('dr...  
11  [('children', 24),('work', 21),('budget', 17),...  
12  [('security', 29),('freedom', 20),('social', 1...  
13  [('jobs', 32),('work', 20),('energy', 18),('fa...  
14  [('tax', 15),('last', 13),('together', 13),('w...  
15  [('folks', 19),('see', 15),('families', 15),('...  </code></pre>
</div>
</div>
<section id="interpretation-of-all-presidents-words-since-truman" class="level2">
<h2 class="anchored" data-anchor-id="interpretation-of-all-presidents-words-since-truman"><strong>Interpretation of all president’s words since Truman</strong></h2>
<p>American priorities shifted over time. As we can see, From Hoover (1929) until Nixon (1974) issues and words related to “freedom”, and “peace” were emphasized. This makes sense since during that time, WW2 and the Vietnam War were fought.</p>
<p>“Economy” seems like a topic that is popular in almost every presidency.</p>
<p>During Ford’s and Reagan’s presidency, “tax”, and “growth” became really hot buzz words. Especially during Reagan administration, big tax reforms were introduced which they have significantly reduce taxes for businesses.</p>
<p>“inflation” and “energy” were also popular during Nixon, Ford, and Reagan. It is important because especially during Nixon, the US economy after 14 years of economic development got in a stagflationary state; oil and gas crisis at the 70s was also a part of that.</p>
<p>During George W Bush (2005), “security” was the most popular word used. This is because especially after 911, security became the main focus of his presidency.</p>
<p>Healthcare gained importance during the Clinton Administration, and two administrations later, the Obama Administration expanded Medicaid. With the Covid-19 pandemic, healthcare again dominated the policy priorities in Biden’s 2022 address.</p>
<p>All the presidents, irrespective of their political affiliation (Democrats vs Republicans), mentioned about strengthening / growing the economy. Only presidents affiliated with the Democratic party seemed to emphasize on “healthcare”, whereas a common theme among the Republican presidents’ addresses was “war / military spending / terrorism”.</p>
<p>Top ten words of all Democrat Presidents</p>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Previous speech links were not scraped so we import the excel that includes them here for the analysis</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>democrat_speeches <span class="op">=</span> pd.read_excel(<span class="st">'democrat_speeches.xlsx'</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co">#I use a function and include the code that want to apply for every president.</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> my_function(x):</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>    r <span class="op">=</span> requests.get(x[<span class="st">'html'</span>])</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    r.encoding <span class="op">=</span> <span class="st">'utf-8'</span> </span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>    html <span class="op">=</span> r.text </span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">#print(html[0:2000]) </span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>    soup <span class="op">=</span> BeautifulSoup(html, <span class="st">"html.parser"</span>)</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>    president_text <span class="op">=</span> soup.get_text()</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">#print(president_text[0:2000])</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>    <span class="co">#THE DOCUMENT IS TOKENIZED -- SPLITTING TEXT INTO INDIVUDUAL WORDS</span></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>    tokenizer <span class="op">=</span> nltk.tokenize.RegexpTokenizer(<span class="st">'\w+'</span>)</span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>    tokens <span class="op">=</span> tokenizer.tokenize(president_text) </span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>    <span class="co">#print(tokens[0:10])</span></span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Defining stopwords and adding more to the list. This list is same across all 14 presidents' speeches. </span></span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a>    sw <span class="op">=</span> nltk.corpus.stopwords.words(<span class="st">'english'</span>) </span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>    newsw <span class="op">=</span> [<span class="st">'annual'</span>, <span class="st">'number'</span>, <span class="st">'help'</span>, <span class="st">'thank'</span>, <span class="st">'get'</span>,  <span class="st">'going'</span>, <span class="st">'think'</span>, <span class="st">'look'</span>, <span class="st">'said'</span>, </span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a>             <span class="st">'create'</span>, <span class="st">'citizens'</span>, <span class="st">'citizen'</span>, <span class="st">'across'</span>, <span class="st">'since'</span>, <span class="st">'go'</span>, <span class="st">'believe'</span>, <span class="st">'say'</span>, </span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>             <span class="st">'long'</span>, <span class="st">'better'</span>, <span class="st">'plan'</span>, <span class="st">'national'</span>, <span class="st">'ask'</span> <span class="st">'10'</span>, <span class="st">'much'</span>, <span class="st">'good'</span>, <span class="st">'great'</span>, </span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a>             <span class="st">'best'</span>, <span class="st">'cannot'</span>, <span class="st">'still'</span>, <span class="st">'know'</span>, <span class="st">'years'</span>, <span class="st">'1'</span>, <span class="st">'major'</span>, <span class="st">'want'</span>, <span class="st">'able'</span>, <span class="st">'put'</span>, </span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a>             <span class="st">'capacity'</span>, <span class="st">'programs'</span>, <span class="st">'per'</span>, <span class="st">'percent'</span>, <span class="st">'million'</span>, <span class="st">'act'</span>, <span class="st">'provide'</span>, <span class="st">'afford'</span>, </span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a>             <span class="st">'needed'</span>, <span class="st">'may'</span>, <span class="st">'possible'</span>, <span class="st">'full'</span>, <span class="st">'2'</span>, <span class="st">'effort'</span>, <span class="st">'meeting'</span>, <span class="st">'address'</span>, <span class="st">'ever'</span>, </span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a>             <span class="st">'measures'</span>, <span class="st">'ago'</span>, <span class="st">'delivered'</span>, <span class="st">'5'</span>, <span class="st">'program'</span>, <span class="st">'past'</span>, <span class="st">'future'</span>, <span class="st">'need'</span>, <span class="st">'needs'</span>, </span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a>             <span class="st">'house'</span>, <span class="st">'also'</span>, <span class="st">'tonight'</span>, <span class="st">'propose'</span>, <span class="st">'toward'</span>, <span class="st">'continue'</span>, <span class="st">'society'</span>,<span class="st">'country'</span>, </span>
<span id="cb19-30"><a href="#cb19-30" aria-hidden="true" tabindex="-1"></a>             <span class="st">'seek'</span>, <span class="st">'period'</span>, <span class="st">'year'</span>, <span class="st">'man'</span>, <span class="st">'men'</span>, <span class="st">'one'</span>, <span class="st">'areas'</span>, <span class="st">'begin'</span>, <span class="st">'live'</span>, <span class="st">'make'</span>, </span>
<span id="cb19-31"><a href="#cb19-31" aria-hidden="true" tabindex="-1"></a>             <span class="st">'let'</span>, <span class="st">'upon'</span>, <span class="st">'well'</span>, <span class="st">'office'</span>, <span class="st">'meet'</span>, <span class="st">'make'</span> <span class="st">'citizens'</span>, <span class="st">'human'</span>, <span class="st">'self'</span>, <span class="st">'among'</span>, </span>
<span id="cb19-32"><a href="#cb19-32" aria-hidden="true" tabindex="-1"></a>             <span class="st">'peoples'</span>, <span class="st">'affairs'</span>, <span class="st">'would'</span>, <span class="st">'field'</span>, <span class="st">'first'</span>, <span class="st">'interest'</span>, <span class="st">'today'</span>, <span class="st">'recommendations'</span>, </span>
<span id="cb19-33"><a href="#cb19-33" aria-hidden="true" tabindex="-1"></a>             <span class="st">'recomenndation'</span>, <span class="st">'within'</span>, <span class="st">'shall'</span>, <span class="st">'administration'</span>, <span class="st">'nation'</span>, <span class="st">'nations'</span>, <span class="st">'us'</span>, <span class="st">'we'</span>, </span>
<span id="cb19-34"><a href="#cb19-34" aria-hidden="true" tabindex="-1"></a>             <span class="st">'policy'</span>, <span class="st">'legislation'</span>, <span class="st">'time'</span>, <span class="st">'new'</span>, <span class="st">'many'</span>, <span class="st">'several'</span>, <span class="st">'few'</span>, <span class="st">'government'</span>, <span class="st">'world'</span>, </span>
<span id="cb19-35"><a href="#cb19-35" aria-hidden="true" tabindex="-1"></a>             <span class="st">'people'</span>, <span class="st">'united'</span>, <span class="st">'states'</span>, <span class="st">'system'</span>, <span class="st">'every'</span>, <span class="st">'people'</span>, <span class="st">'must'</span>, <span class="st">'626'</span>,<span class="st">'give'</span>, </span>
<span id="cb19-36"><a href="#cb19-36" aria-hidden="true" tabindex="-1"></a>             <span class="st">'categories'</span>, <span class="st">'226762'</span>, <span class="st">'17608'</span>, <span class="st">'24532'</span>, <span class="st">'430'</span>, <span class="st">'38'</span>,<span class="st">'statistics'</span>, <span class="st">'analyses'</span>, </span>
<span id="cb19-37"><a href="#cb19-37" aria-hidden="true" tabindex="-1"></a>             <span class="st">'miscellaneous'</span>, <span class="st">'congressional'</span>, <span class="st">'skip'</span>, <span class="st">'content'</span>, <span class="st">'documents'</span>, <span class="st">'attributes'</span>, <span class="st">'media'</span>, <span class="st">'message'</span>, </span>
<span id="cb19-38"><a href="#cb19-38" aria-hidden="true" tabindex="-1"></a>             <span class="st">'congress'</span>, <span class="st">'state'</span>, <span class="st">'union'</span>, <span class="st">'america'</span>, <span class="st">'american'</span>, <span class="st">'americans'</span>, <span class="st">'presidency'</span>, <span class="st">'president'</span>, </span>
<span id="cb19-39"><a href="#cb19-39" aria-hidden="true" tabindex="-1"></a>             <span class="st">'project'</span>, <span class="st">'search'</span>, <span class="st">'toggle'</span>, <span class="st">'navigation'</span>, <span class="st">'search'</span>, <span class="st">'guidebook'</span>, <span class="st">'archive'</span>, <span class="st">'category'</span>, </span>
<span id="cb19-40"><a href="#cb19-40" aria-hidden="true" tabindex="-1"></a>             <span class="st">'main'</span>, <span class="st">'take'</span>,<span class="st">'like'</span>,<span class="st">'yet'</span>,<span class="st">'j'</span>,<span class="st">'000'</span>, <span class="st">'ask'</span>, <span class="st">'1974'</span>, <span class="st">'federal'</span>, <span class="st">'http'</span>, <span class="st">'www'</span>, <span class="st">'usb'</span>,</span>
<span id="cb19-41"><a href="#cb19-41" aria-hidden="true" tabindex="-1"></a>             <span class="st">'edu'</span>, <span class="st">'the'</span>, <span class="st">'the'</span>, <span class="st">'before'</span>, <span class="st">'joint'</span>, <span class="st">'session'</span>, <span class="st">'the'</span>,<span class="st">'american'</span>, <span class="st">'america'</span>,</span>
<span id="cb19-42"><a href="#cb19-42" aria-hidden="true" tabindex="-1"></a>            <span class="st">'year'</span>,<span class="st">'congress'</span>,<span class="st">'let'</span>,<span class="st">'time'</span>, <span class="st">'nation'</span>, <span class="st">'new'</span>, <span class="st">'people'</span>]</span>
<span id="cb19-43"><a href="#cb19-43" aria-hidden="true" tabindex="-1"></a>    sw.extend(newsw)</span>
<span id="cb19-44"><a href="#cb19-44" aria-hidden="true" tabindex="-1"></a>    <span class="co">#print(sw[0:30])</span></span>
<span id="cb19-45"><a href="#cb19-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-46"><a href="#cb19-46" aria-hidden="true" tabindex="-1"></a>    president_words <span class="op">=</span> [token.lower() <span class="cf">for</span> token <span class="kw">in</span> tokens] </span>
<span id="cb19-47"><a href="#cb19-47" aria-hidden="true" tabindex="-1"></a>    words_ns <span class="op">=</span> [word <span class="cf">for</span> word <span class="kw">in</span> president_words <span class="cf">if</span> word <span class="kw">not</span> <span class="kw">in</span> sw] </span>
<span id="cb19-48"><a href="#cb19-48" aria-hidden="true" tabindex="-1"></a>    <span class="co">#print(words_ns[:20])</span></span>
<span id="cb19-49"><a href="#cb19-49" aria-hidden="true" tabindex="-1"></a>    president_ns <span class="op">=</span> <span class="st">" "</span>.join(words_ns)</span>
<span id="cb19-50"><a href="#cb19-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-51"><a href="#cb19-51" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Determining the most commoon words </span></span>
<span id="cb19-52"><a href="#cb19-52" aria-hidden="true" tabindex="-1"></a>    count <span class="op">=</span> Counter(words_ns)</span>
<span id="cb19-53"><a href="#cb19-53" aria-hidden="true" tabindex="-1"></a>    top_ten_president <span class="op">=</span> count.most_common(<span class="dv">10</span>)</span>
<span id="cb19-54"><a href="#cb19-54" aria-hidden="true" tabindex="-1"></a>    top_10_string <span class="op">=</span> <span class="st">','</span>.join([<span class="bu">str</span>(x) <span class="cf">for</span> x <span class="kw">in</span> top_ten_president])</span>
<span id="cb19-55"><a href="#cb19-55" aria-hidden="true" tabindex="-1"></a>    print_list <span class="op">=</span> [top_10_string]</span>
<span id="cb19-56"><a href="#cb19-56" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> print_list</span>
<span id="cb19-57"><a href="#cb19-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-58"><a href="#cb19-58" aria-hidden="true" tabindex="-1"></a><span class="co">#for i in range(13):</span></span>
<span id="cb19-59"><a href="#cb19-59" aria-hidden="true" tabindex="-1"></a><span class="co"># #    fun(df2)</span></span>
<span id="cb19-60"><a href="#cb19-60" aria-hidden="true" tabindex="-1"></a>top_list <span class="op">=</span> []</span>
<span id="cb19-61"><a href="#cb19-61" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> index, row <span class="kw">in</span> democrat_speeches.iterrows():</span>
<span id="cb19-62"><a href="#cb19-62" aria-hidden="true" tabindex="-1"></a>    top <span class="op">=</span> my_function(row)</span>
<span id="cb19-63"><a href="#cb19-63" aria-hidden="true" tabindex="-1"></a>    top_list.append(top)</span>
<span id="cb19-64"><a href="#cb19-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-65"><a href="#cb19-65" aria-hidden="true" tabindex="-1"></a>democrat_speeches[<span class="st">'top ten'</span>] <span class="op">=</span> top_list</span>
<span id="cb19-66"><a href="#cb19-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-67"><a href="#cb19-67" aria-hidden="true" tabindex="-1"></a>display(democrat_speeches)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>president</th>
      <th>year</th>
      <th>party</th>
      <th>html</th>
      <th>top ten</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>FD_Roosvelt</td>
      <td>1934</td>
      <td>democrat</td>
      <td>https://www.presidency.ucsb.edu/documents/annu...</td>
      <td>[('industrial', 9),('work', 8),('recovery', 7)...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Truman</td>
      <td>1949</td>
      <td>democrat</td>
      <td>https://www.presidency.ucsb.edu/documents/annu...</td>
      <td>[('prosperity', 12),('production', 12),('power...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Kennedy</td>
      <td>1961</td>
      <td>democrat</td>
      <td>https://www.presidency.ucsb.edu/documents/annu...</td>
      <td>[('economic', 16),('development', 10),('peace'...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Lyndon</td>
      <td>1965</td>
      <td>democrat</td>
      <td>https://www.presidency.ucsb.edu/documents/annu...</td>
      <td>[('freedom', 12),('life', 9),('progress', 8),(...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Carter</td>
      <td>1978</td>
      <td>democrat</td>
      <td>https://www.presidency.ucsb.edu/documents/the-...</td>
      <td>[('inflation', 17),('economic', 14),('tax', 13...</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Clinton</td>
      <td>1997</td>
      <td>democrat</td>
      <td>https://www.presidency.ucsb.edu/documents/addr...</td>
      <td>[('children', 24),('work', 21),('budget', 17),...</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Obama</td>
      <td>2013</td>
      <td>democrat</td>
      <td>https://www.presidency.ucsb.edu/documents/addr...</td>
      <td>[('jobs', 32),('work', 20),('energy', 18),('fa...</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Joe</td>
      <td>2022</td>
      <td>democrat</td>
      <td>https://www.presidency.ucsb.edu/documents/addr...</td>
      <td>[('folks', 19),('see', 15),('families', 15),('...</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>Top ten words of all Republican Presidents</p>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Previous speech links were not scraped so we import the excel that includes them here for the analysis</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>republican_speeches <span class="op">=</span> pd.read_excel(<span class="st">'republican_speeches.xlsx'</span>)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co">#I use a function and include the code that want to apply for every president.</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> my_function(x):</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>    r <span class="op">=</span> requests.get(x[<span class="st">'html'</span>])</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>    r.encoding <span class="op">=</span> <span class="st">'utf-8'</span> </span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>    html <span class="op">=</span> r.text </span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">#print(html[0:2000]) </span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>    soup <span class="op">=</span> BeautifulSoup(html, <span class="st">"html.parser"</span>)</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>    president_text <span class="op">=</span> soup.get_text()</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">#print(president_text[0:2000])</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>    <span class="co">#THE DOCUMENT IS TOKENIZED -- SPLITTING TEXT INTO INDIVUDUAL WORDS</span></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>    tokenizer <span class="op">=</span> nltk.tokenize.RegexpTokenizer(<span class="st">'\w+'</span>)</span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>    tokens <span class="op">=</span> tokenizer.tokenize(president_text) </span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>    <span class="co">#print(tokens[0:10])</span></span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Defining stopwords and adding more to the list. This list is same across all 14 presidents' speeches. </span></span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>    sw <span class="op">=</span> nltk.corpus.stopwords.words(<span class="st">'english'</span>) </span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a>    newsw <span class="op">=</span> [<span class="st">'annual'</span>, <span class="st">'number'</span>, <span class="st">'help'</span>, <span class="st">'thank'</span>, <span class="st">'get'</span>,  <span class="st">'going'</span>, <span class="st">'think'</span>, <span class="st">'look'</span>, <span class="st">'said'</span>, </span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a>             <span class="st">'create'</span>, <span class="st">'citizens'</span>, <span class="st">'citizen'</span>, <span class="st">'across'</span>, <span class="st">'since'</span>, <span class="st">'go'</span>, <span class="st">'believe'</span>, <span class="st">'say'</span>, </span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a>             <span class="st">'long'</span>, <span class="st">'better'</span>, <span class="st">'plan'</span>, <span class="st">'national'</span>, <span class="st">'ask'</span> <span class="st">'10'</span>, <span class="st">'much'</span>, <span class="st">'good'</span>, <span class="st">'great'</span>, </span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a>             <span class="st">'best'</span>, <span class="st">'cannot'</span>, <span class="st">'still'</span>, <span class="st">'know'</span>, <span class="st">'years'</span>, <span class="st">'1'</span>, <span class="st">'major'</span>, <span class="st">'want'</span>, <span class="st">'able'</span>, <span class="st">'put'</span>, </span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a>             <span class="st">'capacity'</span>, <span class="st">'programs'</span>, <span class="st">'per'</span>, <span class="st">'percent'</span>, <span class="st">'million'</span>, <span class="st">'act'</span>, <span class="st">'provide'</span>, <span class="st">'afford'</span>, </span>
<span id="cb20-27"><a href="#cb20-27" aria-hidden="true" tabindex="-1"></a>             <span class="st">'needed'</span>, <span class="st">'may'</span>, <span class="st">'possible'</span>, <span class="st">'full'</span>, <span class="st">'2'</span>, <span class="st">'effort'</span>, <span class="st">'meeting'</span>, <span class="st">'address'</span>, <span class="st">'ever'</span>, </span>
<span id="cb20-28"><a href="#cb20-28" aria-hidden="true" tabindex="-1"></a>             <span class="st">'measures'</span>, <span class="st">'ago'</span>, <span class="st">'delivered'</span>, <span class="st">'5'</span>, <span class="st">'program'</span>, <span class="st">'past'</span>, <span class="st">'future'</span>, <span class="st">'need'</span>, <span class="st">'needs'</span>, </span>
<span id="cb20-29"><a href="#cb20-29" aria-hidden="true" tabindex="-1"></a>             <span class="st">'house'</span>, <span class="st">'also'</span>, <span class="st">'tonight'</span>, <span class="st">'propose'</span>, <span class="st">'toward'</span>, <span class="st">'continue'</span>, <span class="st">'society'</span>,<span class="st">'country'</span>, </span>
<span id="cb20-30"><a href="#cb20-30" aria-hidden="true" tabindex="-1"></a>             <span class="st">'seek'</span>, <span class="st">'period'</span>, <span class="st">'year'</span>, <span class="st">'man'</span>, <span class="st">'men'</span>, <span class="st">'one'</span>, <span class="st">'areas'</span>, <span class="st">'begin'</span>, <span class="st">'live'</span>, <span class="st">'make'</span>, </span>
<span id="cb20-31"><a href="#cb20-31" aria-hidden="true" tabindex="-1"></a>             <span class="st">'let'</span>, <span class="st">'upon'</span>, <span class="st">'well'</span>, <span class="st">'office'</span>, <span class="st">'meet'</span>, <span class="st">'make'</span> <span class="st">'citizens'</span>, <span class="st">'human'</span>, <span class="st">'self'</span>, <span class="st">'among'</span>, </span>
<span id="cb20-32"><a href="#cb20-32" aria-hidden="true" tabindex="-1"></a>             <span class="st">'peoples'</span>, <span class="st">'affairs'</span>, <span class="st">'would'</span>, <span class="st">'field'</span>, <span class="st">'first'</span>, <span class="st">'interest'</span>, <span class="st">'today'</span>, <span class="st">'recommendations'</span>, </span>
<span id="cb20-33"><a href="#cb20-33" aria-hidden="true" tabindex="-1"></a>             <span class="st">'recomenndation'</span>, <span class="st">'within'</span>, <span class="st">'shall'</span>, <span class="st">'administration'</span>, <span class="st">'nation'</span>, <span class="st">'nations'</span>, <span class="st">'us'</span>, <span class="st">'we'</span>, </span>
<span id="cb20-34"><a href="#cb20-34" aria-hidden="true" tabindex="-1"></a>             <span class="st">'policy'</span>, <span class="st">'legislation'</span>, <span class="st">'time'</span>, <span class="st">'new'</span>, <span class="st">'many'</span>, <span class="st">'several'</span>, <span class="st">'few'</span>, <span class="st">'government'</span>, <span class="st">'world'</span>, </span>
<span id="cb20-35"><a href="#cb20-35" aria-hidden="true" tabindex="-1"></a>             <span class="st">'people'</span>, <span class="st">'united'</span>, <span class="st">'states'</span>, <span class="st">'system'</span>, <span class="st">'every'</span>, <span class="st">'people'</span>, <span class="st">'must'</span>, <span class="st">'626'</span>,<span class="st">'give'</span>, </span>
<span id="cb20-36"><a href="#cb20-36" aria-hidden="true" tabindex="-1"></a>             <span class="st">'categories'</span>, <span class="st">'226762'</span>, <span class="st">'17608'</span>, <span class="st">'24532'</span>, <span class="st">'430'</span>, <span class="st">'38'</span>,<span class="st">'statistics'</span>, <span class="st">'analyses'</span>, </span>
<span id="cb20-37"><a href="#cb20-37" aria-hidden="true" tabindex="-1"></a>             <span class="st">'miscellaneous'</span>, <span class="st">'congressional'</span>, <span class="st">'skip'</span>, <span class="st">'content'</span>, <span class="st">'documents'</span>, <span class="st">'attributes'</span>, <span class="st">'media'</span>, <span class="st">'message'</span>, </span>
<span id="cb20-38"><a href="#cb20-38" aria-hidden="true" tabindex="-1"></a>             <span class="st">'congress'</span>, <span class="st">'state'</span>, <span class="st">'union'</span>, <span class="st">'america'</span>, <span class="st">'american'</span>, <span class="st">'americans'</span>, <span class="st">'presidency'</span>, <span class="st">'president'</span>, </span>
<span id="cb20-39"><a href="#cb20-39" aria-hidden="true" tabindex="-1"></a>             <span class="st">'project'</span>, <span class="st">'search'</span>, <span class="st">'toggle'</span>, <span class="st">'navigation'</span>, <span class="st">'search'</span>, <span class="st">'guidebook'</span>, <span class="st">'archive'</span>, <span class="st">'category'</span>, </span>
<span id="cb20-40"><a href="#cb20-40" aria-hidden="true" tabindex="-1"></a>             <span class="st">'main'</span>, <span class="st">'take'</span>,<span class="st">'like'</span>,<span class="st">'yet'</span>,<span class="st">'j'</span>,<span class="st">'000'</span>, <span class="st">'ask'</span>, <span class="st">'1974'</span>, <span class="st">'federal'</span>, <span class="st">'http'</span>, <span class="st">'www'</span>, <span class="st">'usb'</span>,</span>
<span id="cb20-41"><a href="#cb20-41" aria-hidden="true" tabindex="-1"></a>             <span class="st">'edu'</span>, <span class="st">'the'</span>, <span class="st">'the'</span>, <span class="st">'before'</span>, <span class="st">'joint'</span>, <span class="st">'session'</span>, <span class="st">'the'</span>,<span class="st">'american'</span>, <span class="st">'america'</span>,</span>
<span id="cb20-42"><a href="#cb20-42" aria-hidden="true" tabindex="-1"></a>            <span class="st">'year'</span>,<span class="st">'congress'</span>,<span class="st">'let'</span>,<span class="st">'time'</span>, <span class="st">'nation'</span>, <span class="st">'new'</span>, <span class="st">'people'</span>]</span>
<span id="cb20-43"><a href="#cb20-43" aria-hidden="true" tabindex="-1"></a>    sw.extend(newsw)</span>
<span id="cb20-44"><a href="#cb20-44" aria-hidden="true" tabindex="-1"></a>    <span class="co">#print(sw[0:30])</span></span>
<span id="cb20-45"><a href="#cb20-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-46"><a href="#cb20-46" aria-hidden="true" tabindex="-1"></a>    president_words <span class="op">=</span> [token.lower() <span class="cf">for</span> token <span class="kw">in</span> tokens] </span>
<span id="cb20-47"><a href="#cb20-47" aria-hidden="true" tabindex="-1"></a>    words_ns <span class="op">=</span> [word <span class="cf">for</span> word <span class="kw">in</span> president_words <span class="cf">if</span> word <span class="kw">not</span> <span class="kw">in</span> sw] </span>
<span id="cb20-48"><a href="#cb20-48" aria-hidden="true" tabindex="-1"></a>    <span class="co">#print(words_ns[:20])</span></span>
<span id="cb20-49"><a href="#cb20-49" aria-hidden="true" tabindex="-1"></a>    president_ns <span class="op">=</span> <span class="st">" "</span>.join(words_ns)</span>
<span id="cb20-50"><a href="#cb20-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-51"><a href="#cb20-51" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Determining the most commoon words </span></span>
<span id="cb20-52"><a href="#cb20-52" aria-hidden="true" tabindex="-1"></a>    count <span class="op">=</span> Counter(words_ns)</span>
<span id="cb20-53"><a href="#cb20-53" aria-hidden="true" tabindex="-1"></a>    top_ten_president <span class="op">=</span> count.most_common(<span class="dv">10</span>)</span>
<span id="cb20-54"><a href="#cb20-54" aria-hidden="true" tabindex="-1"></a>    top_10_string <span class="op">=</span> <span class="st">','</span>.join([<span class="bu">str</span>(x) <span class="cf">for</span> x <span class="kw">in</span> top_ten_president])</span>
<span id="cb20-55"><a href="#cb20-55" aria-hidden="true" tabindex="-1"></a>    print_list <span class="op">=</span> [top_10_string]</span>
<span id="cb20-56"><a href="#cb20-56" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> print_list</span>
<span id="cb20-57"><a href="#cb20-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-58"><a href="#cb20-58" aria-hidden="true" tabindex="-1"></a><span class="co">#for i in range(13):</span></span>
<span id="cb20-59"><a href="#cb20-59" aria-hidden="true" tabindex="-1"></a><span class="co"># #    fun(df2)</span></span>
<span id="cb20-60"><a href="#cb20-60" aria-hidden="true" tabindex="-1"></a>top_list <span class="op">=</span> []</span>
<span id="cb20-61"><a href="#cb20-61" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> index, row <span class="kw">in</span> republican_speeches.iterrows():</span>
<span id="cb20-62"><a href="#cb20-62" aria-hidden="true" tabindex="-1"></a>    top <span class="op">=</span> my_function(row)</span>
<span id="cb20-63"><a href="#cb20-63" aria-hidden="true" tabindex="-1"></a>    top_list.append(top)</span>
<span id="cb20-64"><a href="#cb20-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-65"><a href="#cb20-65" aria-hidden="true" tabindex="-1"></a>republican_speeches[<span class="st">'top ten'</span>] <span class="op">=</span> top_list</span>
<span id="cb20-66"><a href="#cb20-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-67"><a href="#cb20-67" aria-hidden="true" tabindex="-1"></a>display(republican_speeches)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>president</th>
      <th>year</th>
      <th>party</th>
      <th>html</th>
      <th>top ten</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Hoover</td>
      <td>1929</td>
      <td>republican</td>
      <td>https://www.presidency.ucsb.edu/documents/annu...</td>
      <td>[('public', 33),('law', 25),('service', 23),('...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Eisenhower</td>
      <td>1957</td>
      <td>republican</td>
      <td>https://www.presidency.ucsb.edu/documents/annu...</td>
      <td>[('free', 16),('security', 16),('economy', 12)...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Nixon</td>
      <td>1974</td>
      <td>republican</td>
      <td>https://www.presidency.ucsb.edu/documents/addr...</td>
      <td>[('peace', 27),('energy', 17),('war', 8),('pro...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Ford</td>
      <td>1975</td>
      <td>republican</td>
      <td>https://www.presidency.ucsb.edu/documents/addr...</td>
      <td>[('energy', 25),('oil', 20),('tax', 17),('econ...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Reagan</td>
      <td>1985</td>
      <td>republican</td>
      <td>https://www.presidency.ucsb.edu/documents/addr...</td>
      <td>[('freedom', 20),('tax', 16),('growth', 14),('...</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Bush</td>
      <td>1989</td>
      <td>republican</td>
      <td>https://www.presidency.ucsb.edu/documents/addr...</td>
      <td>[('budget', 17),('work', 12),('hope', 10),('dr...</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Bush</td>
      <td>2005</td>
      <td>republican</td>
      <td>https://www.presidency.ucsb.edu/documents/addr...</td>
      <td>[('security', 29),('freedom', 20),('social', 1...</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Trump</td>
      <td>2018</td>
      <td>republican</td>
      <td>https://www.presidency.ucsb.edu/documents/addr...</td>
      <td>[('tax', 15),('last', 13),('together', 13),('w...</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<ol start="2" type="1">
<li>Can you conduct topic analysis of LDA using the speeches to determine what things presidents talk about in state of the union speeches?</li>
</ol>
<p>Linear Discriminant Analysis (LDA) is like PCA, but it focuses on maximizing the seperatibility among known categories</p>
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(df2.iloc[:,<span class="dv">0</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<pre><code>pandas.core.series.Series</code></pre>
</div>
</div>
<div class="cell" data-scrolled="true" data-execution_count="16">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>dataset <span class="op">=</span> pd.read_excel(<span class="st">'speeches53463.xlsx'</span>)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>grouped <span class="op">=</span> dataset.groupby(<span class="st">'name'</span>)</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>dataset[<span class="st">'date'</span>] <span class="op">=</span> pd.to_datetime(dataset[<span class="st">'date'</span>])</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="co">#print(dataset.head())</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>grouped <span class="op">=</span> dataset.groupby(<span class="st">'name'</span>)</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>dataset2 <span class="op">=</span> dataset.loc[dataset.groupby(<span class="st">'name'</span>).date.idxmin()]</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a><span class="co">#.filter(lambda x: x['date'] == min(x['date']))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> re</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the titles of the first rows </span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df2[[<span class="dv">0</span>]].head())</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove punctuation</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>dataset[<span class="st">'title_processed'</span>] <span class="op">=</span> dataset[<span class="st">'speech'</span>].<span class="bu">map</span>(<span class="kw">lambda</span> x: re.sub(<span class="st">'[,\.!?]'</span>, <span class="st">''</span>, x))</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the titles to lowercase</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>dataset[<span class="st">'title_processed'</span>] <span class="op">=</span> dataset[<span class="st">'title_processed'</span>].<span class="bu">map</span>(<span class="kw">lambda</span> x: x.lower())</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the processed titles of the first rows </span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>dataset[<span class="st">'title_processed'</span>].head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                                   0
0  Address Before a Joint Session of the Congress...
1  Address Before a Joint Session of Congress on ...
2  Address Before a Joint Session of Congress on ...
3  Annual Message to the Congress on the State of...
4  Radio Address Summarizing the State of the Uni...</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="17">
<pre><code>0    the presidentthank you thank you thank you goo...
1    the presidentthank you all very very much than...
2    thank you very much mr speaker mr vice preside...
3    the presidentmr speaker mr vice president memb...
4    the presidentmadam speaker mr vice president m...
Name: title_processed, dtype: object</code></pre>
</div>
</div>
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the library with the CountVectorizer method</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.feature_extraction.text <span class="im">import</span> CountVectorizer</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Helper function</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> plot_10_most_common_words(count_data, count_vectorizer):</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>    words <span class="op">=</span> count_vectorizer.get_feature_names()</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>    total_counts <span class="op">=</span> np.zeros(<span class="bu">len</span>(words))</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> t <span class="kw">in</span> count_data:</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>        total_counts<span class="op">+=</span>t.toarray()[<span class="dv">0</span>]</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>    count_dict <span class="op">=</span> (<span class="bu">zip</span>(words, total_counts))</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>    count_dict <span class="op">=</span> <span class="bu">sorted</span>(count_dict, key<span class="op">=</span><span class="kw">lambda</span> x:x[<span class="dv">1</span>], reverse<span class="op">=</span><span class="va">True</span>)[<span class="dv">0</span>:<span class="dv">10</span>]</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>    words <span class="op">=</span> [w[<span class="dv">0</span>] <span class="cf">for</span> w <span class="kw">in</span> count_dict]</span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>    counts <span class="op">=</span> [w[<span class="dv">1</span>] <span class="cf">for</span> w <span class="kw">in</span> count_dict]</span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>    x_pos <span class="op">=</span> np.arange(<span class="bu">len</span>(words)) </span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>    plt.bar(x_pos, counts,align<span class="op">=</span><span class="st">'center'</span>)</span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>    plt.xticks(x_pos, words, rotation<span class="op">=</span><span class="dv">90</span>) </span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>    plt.xlabel(<span class="st">'words'</span>)</span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a>    plt.ylabel(<span class="st">'counts'</span>)</span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a>    plt.title(<span class="st">'10 most common words'</span>)</span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a>    plt.show()</span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialise the count vectorizer with the English stop words</span></span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a>count_vectorizer <span class="op">=</span> CountVectorizer(stop_words<span class="op">=</span><span class="st">'english'</span>)</span>
<span id="cb27-28"><a href="#cb27-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-29"><a href="#cb27-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit and transform the processed titles</span></span>
<span id="cb27-30"><a href="#cb27-30" aria-hidden="true" tabindex="-1"></a>count_data <span class="op">=</span> count_vectorizer.fit_transform(dataset[<span class="st">'title_processed'</span>])</span>
<span id="cb27-31"><a href="#cb27-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-32"><a href="#cb27-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualise the 10 most common words</span></span>
<span id="cb27-33"><a href="#cb27-33" aria-hidden="true" tabindex="-1"></a>plot_10_most_common_words(count_data, count_vectorizer)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="presidents_analysis_files/figure-html/cell-19-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="interpretation" class="level2">
<h2 class="anchored" data-anchor-id="interpretation"><strong>Interpretation</strong></h2>
<p>While the most common words do not seem to reveal something particular, when those generic words are cleaned as we saw above, we get specific topics and buzz words from each president.</p>
<div class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> warnings</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>warnings.simplefilter(<span class="st">"ignore"</span>, <span class="pp">DeprecationWarning</span>)</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the LDA model from sk-learn</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.decomposition <span class="im">import</span> LatentDirichletAllocation <span class="im">as</span> LDA</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Helper function</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> print_topics(model, count_vectorizer, n_top_words):</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>    words <span class="op">=</span> count_vectorizer.get_feature_names()</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> topic_idx, topic <span class="kw">in</span> <span class="bu">enumerate</span>(model.components_):</span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Topic #</span><span class="sc">%d</span><span class="st">:"</span> <span class="op">%</span> topic_idx)</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">" "</span>.join([words[i]</span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>                        <span class="cf">for</span> i <span class="kw">in</span> topic.argsort()[:<span class="op">-</span>n_top_words <span class="op">-</span> <span class="dv">1</span>:<span class="op">-</span><span class="dv">1</span>]]))</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Tweak the two parameters below (use int values below 15)</span></span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>number_topics <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>number_words <span class="op">=</span> <span class="dv">25</span></span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Create and fit the LDA model</span></span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a>lda <span class="op">=</span> LDA(n_components<span class="op">=</span>number_topics)</span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a>lda.fit(count_data)</span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the topics found by the LDA model</span></span>
<span id="cb28-24"><a href="#cb28-24" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Topics found via LDA:"</span>)</span>
<span id="cb28-25"><a href="#cb28-25" aria-hidden="true" tabindex="-1"></a>print_topics(lda, count_vectorizer, number_words)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Topics found via LDA:

Topic #0:
world war nations peace people united nation free economic great shall congress year military security men national forces new freedom defense time power american government

Topic #1:
states government united congress country public great citizens people year time state war treaty foreign shall present subject american general power peace mexico law relations

Topic #2:
government congress law public federal business national great people country present labor power legislation action conditions shall men year world necessary work nation make time

Topic #3:
new america people year years congress american world government make americans help work time federal nation tax economy jobs let programs budget need health program

Topic #4:
states united government great congress treaty act year commerce spain public session present state nations france citizens war duties vessels relations minister effect subject commercial</code></pre>
</div>
</div>
</section>
<section id="interpretation-1" class="level2">
<h2 class="anchored" data-anchor-id="interpretation-1"><strong>Interpretation</strong></h2>
<p><strong>Topic 0</strong>: aligns with internal state laws and political stability.</p>
<p><strong>Topic 1</strong>: seems to align mostly with internal US issues. It is targeted to citizens stability (jobs) and needs.</p>
<p><strong>Topic 2</strong>: Seems to be more related with tax policy and approach to the US economy.</p>
<p><strong>Topic 3</strong>: It has to do with public policy and foreign affairs.</p>
<p><strong>Topic 4</strong>: Mainly targeted to defence department and peace status maintenance while protecting the interests of the US.</p>
<ol start="3" type="1">
<li>Can you determine the sentiment of each state of the union using nltk’s Vader module?</li>
</ol>
<div class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>analyzer<span class="op">=</span>SentimentIntensityAnalyzer()</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> polarity_score(text):</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">len</span>(text)<span class="op">&gt;</span><span class="dv">0</span>:</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>        score<span class="op">=</span>analyzer.polarity_scores(text)[<span class="st">'compound'</span>]</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> score</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>dataset[<span class="st">'polarityscore'</span>] <span class="op">=</span> dataset[<span class="st">'speech'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> text : polarity_score(text))</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>dataset[<span class="st">'polarityscore'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">
<pre><code>0      0.9999
1      0.9999
2      1.0000
3      0.9999
4      0.9999
        ...  
254    0.9998
255    0.9994
256    0.9995
257    0.9991
258   -0.9997
Name: polarityscore, Length: 259, dtype: float64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> sentianamolybarplot(df):</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>    polarity_scale<span class="op">=</span>[<span class="fl">0.9991</span>,<span class="fl">0.9992</span>,<span class="fl">0.9993</span>,<span class="fl">0.9994</span>,<span class="fl">0.9995</span>,<span class="fl">0.9996</span>,<span class="fl">0.9997</span>,<span class="fl">0.9998</span>,<span class="fl">0.9999</span>,<span class="dv">1</span>]</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">#'Review_polarity' is column name of sentiment score calculated for whole review.</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>    df3<span class="op">=</span>df[(df[<span class="st">'polarityscore'</span>]<span class="op">&gt;</span><span class="dv">0</span>)]</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>    out <span class="op">=</span> pd.cut(df3[<span class="st">'polarityscore'</span>],polarity_scale)</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>    ax <span class="op">=</span> out.value_counts(sort<span class="op">=</span><span class="va">False</span>).plot.bar(rot<span class="op">=</span><span class="dv">0</span>, color<span class="op">=</span><span class="st">"b"</span>, figsize<span class="op">=</span>(<span class="dv">12</span>,<span class="dv">8</span>))</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> p <span class="kw">in</span> ax.patches:</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>        ax.annotate(<span class="bu">str</span>(p.get_height()), (p.get_x() <span class="op">*</span> <span class="fl">1.040</span>, p.get_height() <span class="op">*</span> <span class="fl">1.015</span>))</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>    plt.show()</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>sentianamolybarplot(dataset)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="presidents_analysis_files/figure-html/cell-23-output-1.png" class="img-fluid"></p>
</div>
</div>
<p><strong>Interpretation</strong></p>
<p>In the State of Union Speeches, the presidents talk about important issues facing Americans and offers their ideas on solving the nation’s problems, including suggestions for new laws and policies. As displayed in the plot, the polarity scores for 13 speeches (barring W. Bush) is positive. This is understandable as the State of Union speeches are a PR vehicle, leveraged to display the President’s power and positive influence.</p>
<ol start="4" type="1">
<li>Do speeches of different presidents cluster in any way that can allow you to determine their political party? How different are Biden and Trump according to this clustering?</li>
</ol>
<div class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> remove_noise(text, stop_words <span class="op">=</span> nltk.corpus.stopwords.words(<span class="st">'english'</span>)):</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>    newsw <span class="op">=</span> [<span class="st">'annual'</span>, <span class="st">'number'</span>, <span class="st">'help'</span>, <span class="st">'thank'</span>, <span class="st">'get'</span>, <span class="st">'going'</span>, <span class="st">'think'</span>, <span class="st">'look'</span>, <span class="st">'said'</span>, <span class="st">'create'</span>,</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>             <span class="st">'citizens'</span>, <span class="st">'citizen'</span>, <span class="st">'across'</span>, <span class="st">'since'</span>, <span class="st">'go'</span>, <span class="st">'believe'</span>, <span class="st">'say'</span>, <span class="st">'long'</span>, <span class="st">'better'</span>, </span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>             <span class="st">'plan'</span>, <span class="st">'national'</span>, <span class="st">'ask'</span> <span class="st">'10'</span>, <span class="st">'much'</span>, <span class="st">'good'</span>, <span class="st">'great'</span>, <span class="st">'best'</span>, <span class="st">'cannot'</span>, <span class="st">'still'</span>, </span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>             <span class="st">'know'</span>, <span class="st">'years'</span>, <span class="st">'1'</span>, <span class="st">'major'</span>, <span class="st">'want'</span>, <span class="st">'able'</span>, <span class="st">'put'</span>, <span class="st">'capacity'</span>, <span class="st">'programs'</span>, <span class="st">'per'</span>, </span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>             <span class="st">'percent'</span>, <span class="st">'million'</span>, <span class="st">'act'</span>, <span class="st">'provide'</span>, <span class="st">'afford'</span>, <span class="st">'needed'</span>, <span class="st">'may'</span>, <span class="st">'possible'</span>, <span class="st">'full'</span>,</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>             <span class="st">'2'</span>, <span class="st">'effort'</span>, <span class="st">'meeting'</span>, <span class="st">'address'</span>, <span class="st">'ever'</span>, <span class="st">'measures'</span>, <span class="st">'ago'</span>, <span class="st">'delivered'</span>, <span class="st">'5'</span>, </span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>             <span class="st">'program'</span>, <span class="st">'past'</span>, <span class="st">'future'</span>, <span class="st">'need'</span>, <span class="st">'needs'</span>, <span class="st">'house'</span>, <span class="st">'also'</span>, <span class="st">'tonight'</span>, <span class="st">'propose'</span>, </span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>             <span class="st">'toward'</span>, <span class="st">'continue'</span>, <span class="st">'society'</span>,<span class="st">'country'</span>, <span class="st">'seek'</span>, <span class="st">'period'</span>, <span class="st">'year'</span>, <span class="st">'man'</span>, <span class="st">'men'</span>, </span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>             <span class="st">'one'</span>, <span class="st">'areas'</span>, <span class="st">'begin'</span>, <span class="st">'live'</span>, <span class="st">'make'</span>, <span class="st">'let'</span>, <span class="st">'upon'</span>, <span class="st">'well'</span>, <span class="st">'office'</span>, <span class="st">'meet'</span>, </span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>             <span class="st">'make'</span> <span class="st">'citizens'</span>, <span class="st">'human'</span>, <span class="st">'self'</span>, <span class="st">'among'</span>, <span class="st">'peoples'</span>, <span class="st">'affairs'</span>, <span class="st">'would'</span>, <span class="st">'field'</span>, </span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>             <span class="st">'first'</span>, <span class="st">'interest'</span>, <span class="st">'today'</span>, <span class="st">'recommendations'</span>, <span class="st">'recomenndation'</span>, <span class="st">'within'</span>, <span class="st">'shall'</span>, </span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>             <span class="st">'administration'</span>, <span class="st">'nation'</span>, <span class="st">'nations'</span>, <span class="st">'us'</span>, <span class="st">'we'</span>, <span class="st">'policy'</span>, <span class="st">'legislation'</span>, <span class="st">'time'</span>, </span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>             <span class="st">'new'</span>, <span class="st">'many'</span>, <span class="st">'several'</span>, <span class="st">'few'</span>, <span class="st">'government'</span>, <span class="st">'world'</span>, <span class="st">'people'</span>, <span class="st">'united'</span>, <span class="st">'states'</span>, </span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>             <span class="st">'system'</span>, <span class="st">'every'</span>, <span class="st">'people'</span>, <span class="st">'must'</span>, <span class="st">'626'</span>,<span class="st">'give'</span>, <span class="st">'categories'</span>, <span class="st">'226762'</span>, <span class="st">'17608'</span>, </span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>             <span class="st">'24532'</span>, <span class="st">'430'</span>, <span class="st">'38'</span>,<span class="st">'statistics'</span>, <span class="st">'analyses'</span>, <span class="st">'miscellaneous'</span>, <span class="st">'congressional'</span>, </span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>             <span class="st">'skip'</span>, <span class="st">'content'</span>, <span class="st">'documents'</span>, <span class="st">'attributes'</span>, <span class="st">'media'</span>, <span class="st">'message'</span>, <span class="st">'congress'</span>, <span class="st">'state'</span>,</span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a>             <span class="st">'union'</span>, <span class="st">'america'</span>, <span class="st">'american'</span>, <span class="st">'americans'</span>, <span class="st">'presidency'</span>, <span class="st">'president'</span>, <span class="st">'project'</span>, </span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a>             <span class="st">'search'</span>, <span class="st">'toggle'</span>, <span class="st">'navigation'</span>, <span class="st">'search'</span>, <span class="st">'guidebook'</span>, <span class="st">'archive'</span>, <span class="st">'category'</span>, <span class="st">'main'</span>, </span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a>             <span class="st">'take'</span>,<span class="st">'like'</span>,<span class="st">'yet'</span>,<span class="st">'j'</span>,<span class="st">'000'</span>]</span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a>    stop_words <span class="op">=</span> stop_words <span class="op">+</span> newsw</span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a>    tokens <span class="op">=</span> word_tokenize(text)</span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a>    cleaned_tokens <span class="op">=</span> []</span>
<span id="cb33-24"><a href="#cb33-24" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> token <span class="kw">in</span> tokens:</span>
<span id="cb33-25"><a href="#cb33-25" aria-hidden="true" tabindex="-1"></a>        token <span class="op">=</span> re.sub(<span class="st">'[^A-Za-z0-9]+'</span>, <span class="st">''</span>, token)</span>
<span id="cb33-26"><a href="#cb33-26" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="bu">len</span>(token) <span class="op">&gt;</span> <span class="dv">1</span> <span class="kw">and</span> token.lower() <span class="kw">not</span> <span class="kw">in</span> stop_words:</span>
<span id="cb33-27"><a href="#cb33-27" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Get lowercase</span></span>
<span id="cb33-28"><a href="#cb33-28" aria-hidden="true" tabindex="-1"></a>            cleaned_tokens.append(token.lower())</span>
<span id="cb33-29"><a href="#cb33-29" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> cleaned_tokens</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize TfidfVectorizer</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>tfidf_vectorizer <span class="op">=</span> TfidfVectorizer(max_df <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>                                   max_features <span class="op">=</span> <span class="dv">50</span>,</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>                                   min_df <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>                                   tokenizer <span class="op">=</span> remove_noise)</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Use the .fit_transform() method on the list plots</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>tfidf_matrix <span class="op">=</span> tfidf_vectorizer.fit_transform(dataset[<span class="st">'speech'</span>].values)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>num_clusters <span class="op">=</span> <span class="dv">2</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate cluster centers through the kmeans function</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>cluster_centers, distortion <span class="op">=</span> kmeans(tfidf_matrix.todense(), num_clusters)</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a><span class="co"># display(cluster_centers)</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate terms from the tfidf_vectorizer object</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>terms <span class="op">=</span> tfidf_vectorizer.get_feature_names()</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(num_clusters):</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'Cluster: </span><span class="sc">{}</span><span class="st">'</span>.<span class="bu">format</span>(i<span class="op">+</span><span class="dv">1</span>))</span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Sort the terms and print top 3 terms</span></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>    center_terms <span class="op">=</span> <span class="bu">dict</span>(<span class="bu">zip</span>(terms, <span class="bu">list</span>(cluster_centers[i])))</span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>    sorted_terms <span class="op">=</span> <span class="bu">sorted</span>(center_terms, key<span class="op">=</span>center_terms.get, reverse<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(sorted_terms [:<span class="dv">15</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Cluster: 1
['federal', 'economic', 'budget', 'work', 'tax', 'economy', 'security', 'jobs', 'nt', 'freedom', 'health', 'free', 'life', 'together', 'defense']
Cluster: 2
['treaty', 'subject', 'commerce', 'treasury', 'general', 'relations', 'powers', 'laws', 'duty', 'session', 'interests', 'rights', 'however', 'service', 'trade']</code></pre>
</div>
</div>
</section>
<section id="interpretation-2" class="level2">
<h2 class="anchored" data-anchor-id="interpretation-2"><strong>Interpretation</strong></h2>
<p>On clustering the popular words in the speech, it seems like Cluster 1 aligns with speeches by Republican presidents and Cluster 2 with that of speeches by Democartic presidents.</p>
<div class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Converting the datafram into list for further analysis.</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>speech_list <span class="op">=</span> []</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(dataset2)):</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>    speech_list.append(dataset2.iloc[[i]][<span class="st">'speech'</span>].item())</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>titles <span class="op">=</span> []</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(dataset2)):</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>    titles.append(dataset2.iloc[[i]][<span class="st">'name'</span>].item())</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>texts <span class="op">=</span> [txt.split() <span class="cf">for</span> txt <span class="kw">in</span> speech_list]</span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Create an instance of a PorterStemmer object</span></span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>porter <span class="op">=</span> PorterStemmer()</span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a><span class="co"># For each token of each text, we generated its stem </span></span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>texts_stem <span class="op">=</span> [[porter.stem(token) <span class="cf">for</span> token <span class="kw">in</span> text] <span class="cf">for</span> text <span class="kw">in</span> texts]</span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a dictionary from the stemmed tokens</span></span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a>dictionary <span class="op">=</span> corpora.Dictionary(texts_stem)</span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a bag-of-words model for each speech, using the previously generated dictionary</span></span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a>bows <span class="op">=</span> [dictionary.doc2bow(text) <span class="cf">for</span> text <span class="kw">in</span> texts_stem]</span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-24"><a href="#cb37-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate the tf-idf model</span></span>
<span id="cb37-25"><a href="#cb37-25" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> TfidfModel(bows)</span>
<span id="cb37-26"><a href="#cb37-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-27"><a href="#cb37-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute the similarity matrix (pairwise distance between all speeches)</span></span>
<span id="cb37-28"><a href="#cb37-28" aria-hidden="true" tabindex="-1"></a>sims <span class="op">=</span> similarities.MatrixSimilarity(model[bows])</span>
<span id="cb37-29"><a href="#cb37-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-30"><a href="#cb37-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Transform the resulting list into a DataFrame</span></span>
<span id="cb37-31"><a href="#cb37-31" aria-hidden="true" tabindex="-1"></a>sim_df <span class="op">=</span> pd.DataFrame(<span class="bu">list</span>(sims))</span>
<span id="cb37-32"><a href="#cb37-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-33"><a href="#cb37-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Add the name of the presidents as columns and index of the DataFrame</span></span>
<span id="cb37-34"><a href="#cb37-34" aria-hidden="true" tabindex="-1"></a>sim_df.columns <span class="op">=</span> titles</span>
<span id="cb37-35"><a href="#cb37-35" aria-hidden="true" tabindex="-1"></a>sim_df.index <span class="op">=</span> titles</span>
<span id="cb37-36"><a href="#cb37-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-37"><a href="#cb37-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the resulting matrix</span></span>
<span id="cb37-38"><a href="#cb37-38" aria-hidden="true" tabindex="-1"></a>sim_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="25">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Abraham Lincoln</th>
      <th>Andrew Jackson</th>
      <th>Andrew Johnson</th>
      <th>Barack Obama</th>
      <th>Benjamin Harrison</th>
      <th>Calvin Coolidge</th>
      <th>Chester A. Arthur</th>
      <th>Donald J. Trump</th>
      <th>Dwight D. Eisenhower</th>
      <th>Franklin D. Roosevelt</th>
      <th>...</th>
      <th>Rutherford B. Hayes</th>
      <th>Theodore Roosevelt</th>
      <th>Thomas Jefferson</th>
      <th>Ulysses S. Grant</th>
      <th>Warren G. Harding</th>
      <th>William Howard Taft</th>
      <th>William J. Clinton</th>
      <th>William McKinley</th>
      <th>Woodrow Wilson</th>
      <th>Zachary Taylor</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Abraham Lincoln</th>
      <td>1.000000</td>
      <td>0.121246</td>
      <td>0.151205</td>
      <td>0.047722</td>
      <td>0.110114</td>
      <td>0.118578</td>
      <td>0.114825</td>
      <td>0.047754</td>
      <td>0.075706</td>
      <td>0.047841</td>
      <td>...</td>
      <td>0.092012</td>
      <td>0.056717</td>
      <td>0.110742</td>
      <td>0.124756</td>
      <td>0.082261</td>
      <td>0.092794</td>
      <td>0.046491</td>
      <td>0.113427</td>
      <td>0.077418</td>
      <td>0.145153</td>
    </tr>
    <tr>
      <th>Andrew Jackson</th>
      <td>0.121246</td>
      <td>1.000000</td>
      <td>0.121070</td>
      <td>0.053532</td>
      <td>0.131924</td>
      <td>0.086656</td>
      <td>0.106385</td>
      <td>0.054705</td>
      <td>0.077823</td>
      <td>0.047385</td>
      <td>...</td>
      <td>0.112656</td>
      <td>0.070145</td>
      <td>0.117074</td>
      <td>0.146622</td>
      <td>0.092593</td>
      <td>0.113945</td>
      <td>0.050358</td>
      <td>0.102445</td>
      <td>0.086139</td>
      <td>0.155541</td>
    </tr>
    <tr>
      <th>Andrew Johnson</th>
      <td>0.151205</td>
      <td>0.121070</td>
      <td>1.000000</td>
      <td>0.047996</td>
      <td>0.097058</td>
      <td>0.094947</td>
      <td>0.079968</td>
      <td>0.049593</td>
      <td>0.073742</td>
      <td>0.053389</td>
      <td>...</td>
      <td>0.082619</td>
      <td>0.077785</td>
      <td>0.093668</td>
      <td>0.127001</td>
      <td>0.090346</td>
      <td>0.077516</td>
      <td>0.049155</td>
      <td>0.080710</td>
      <td>0.082443</td>
      <td>0.092401</td>
    </tr>
    <tr>
      <th>Barack Obama</th>
      <td>0.047722</td>
      <td>0.053532</td>
      <td>0.047996</td>
      <td>1.000000</td>
      <td>0.046357</td>
      <td>0.069860</td>
      <td>0.037358</td>
      <td>0.213163</td>
      <td>0.103428</td>
      <td>0.096561</td>
      <td>...</td>
      <td>0.035344</td>
      <td>0.069914</td>
      <td>0.054143</td>
      <td>0.047495</td>
      <td>0.073191</td>
      <td>0.049368</td>
      <td>0.317297</td>
      <td>0.050867</td>
      <td>0.064416</td>
      <td>0.039508</td>
    </tr>
    <tr>
      <th>Benjamin Harrison</th>
      <td>0.110114</td>
      <td>0.131924</td>
      <td>0.097058</td>
      <td>0.046357</td>
      <td>1.000000</td>
      <td>0.095429</td>
      <td>0.198889</td>
      <td>0.043727</td>
      <td>0.082837</td>
      <td>0.068579</td>
      <td>...</td>
      <td>0.269502</td>
      <td>0.057292</td>
      <td>0.080109</td>
      <td>0.146124</td>
      <td>0.080189</td>
      <td>0.125491</td>
      <td>0.049069</td>
      <td>0.142834</td>
      <td>0.076850</td>
      <td>0.134368</td>
    </tr>
    <tr>
      <th>Calvin Coolidge</th>
      <td>0.118578</td>
      <td>0.086656</td>
      <td>0.094947</td>
      <td>0.069860</td>
      <td>0.095429</td>
      <td>1.000000</td>
      <td>0.085849</td>
      <td>0.072170</td>
      <td>0.118543</td>
      <td>0.078246</td>
      <td>...</td>
      <td>0.081089</td>
      <td>0.087503</td>
      <td>0.077970</td>
      <td>0.098388</td>
      <td>0.128878</td>
      <td>0.092294</td>
      <td>0.076209</td>
      <td>0.074285</td>
      <td>0.086982</td>
      <td>0.092193</td>
    </tr>
    <tr>
      <th>Chester A. Arthur</th>
      <td>0.114825</td>
      <td>0.106385</td>
      <td>0.079968</td>
      <td>0.037358</td>
      <td>0.198889</td>
      <td>0.085849</td>
      <td>1.000000</td>
      <td>0.042525</td>
      <td>0.058818</td>
      <td>0.042672</td>
      <td>...</td>
      <td>0.144648</td>
      <td>0.045146</td>
      <td>0.063310</td>
      <td>0.179516</td>
      <td>0.066345</td>
      <td>0.137828</td>
      <td>0.045936</td>
      <td>0.123470</td>
      <td>0.059776</td>
      <td>0.132799</td>
    </tr>
    <tr>
      <th>Donald J. Trump</th>
      <td>0.047754</td>
      <td>0.054705</td>
      <td>0.049593</td>
      <td>0.213163</td>
      <td>0.043727</td>
      <td>0.072170</td>
      <td>0.042525</td>
      <td>1.000000</td>
      <td>0.077175</td>
      <td>0.062748</td>
      <td>...</td>
      <td>0.040511</td>
      <td>0.077699</td>
      <td>0.046509</td>
      <td>0.056097</td>
      <td>0.065570</td>
      <td>0.040417</td>
      <td>0.183823</td>
      <td>0.042885</td>
      <td>0.056082</td>
      <td>0.040505</td>
    </tr>
    <tr>
      <th>Dwight D. Eisenhower</th>
      <td>0.075706</td>
      <td>0.077823</td>
      <td>0.073742</td>
      <td>0.103428</td>
      <td>0.082837</td>
      <td>0.118543</td>
      <td>0.058818</td>
      <td>0.077175</td>
      <td>1.000000</td>
      <td>0.108428</td>
      <td>...</td>
      <td>0.059357</td>
      <td>0.074973</td>
      <td>0.060950</td>
      <td>0.085503</td>
      <td>0.107023</td>
      <td>0.072974</td>
      <td>0.128444</td>
      <td>0.065945</td>
      <td>0.104088</td>
      <td>0.069061</td>
    </tr>
    <tr>
      <th>Franklin D. Roosevelt</th>
      <td>0.047841</td>
      <td>0.047385</td>
      <td>0.053389</td>
      <td>0.096561</td>
      <td>0.068579</td>
      <td>0.078246</td>
      <td>0.042672</td>
      <td>0.062748</td>
      <td>0.108428</td>
      <td>1.000000</td>
      <td>...</td>
      <td>0.064508</td>
      <td>0.072999</td>
      <td>0.052945</td>
      <td>0.059127</td>
      <td>0.094722</td>
      <td>0.054787</td>
      <td>0.086663</td>
      <td>0.063699</td>
      <td>0.077462</td>
      <td>0.050414</td>
    </tr>
    <tr>
      <th>Franklin Pierce</th>
      <td>0.138249</td>
      <td>0.149229</td>
      <td>0.113608</td>
      <td>0.039742</td>
      <td>0.135522</td>
      <td>0.096017</td>
      <td>0.129588</td>
      <td>0.034980</td>
      <td>0.083958</td>
      <td>0.055784</td>
      <td>...</td>
      <td>0.096431</td>
      <td>0.059912</td>
      <td>0.091416</td>
      <td>0.149410</td>
      <td>0.087211</td>
      <td>0.114362</td>
      <td>0.038283</td>
      <td>0.098263</td>
      <td>0.081036</td>
      <td>0.181408</td>
    </tr>
    <tr>
      <th>George Bush</th>
      <td>0.039750</td>
      <td>0.110718</td>
      <td>0.045218</td>
      <td>0.223350</td>
      <td>0.039387</td>
      <td>0.067593</td>
      <td>0.030361</td>
      <td>0.166730</td>
      <td>0.101130</td>
      <td>0.063581</td>
      <td>...</td>
      <td>0.029770</td>
      <td>0.064276</td>
      <td>0.043393</td>
      <td>0.048644</td>
      <td>0.064347</td>
      <td>0.045680</td>
      <td>0.236761</td>
      <td>0.042725</td>
      <td>0.064541</td>
      <td>0.038623</td>
    </tr>
    <tr>
      <th>George W. Bush</th>
      <td>0.045682</td>
      <td>0.045953</td>
      <td>0.042901</td>
      <td>0.244457</td>
      <td>0.043902</td>
      <td>0.076660</td>
      <td>0.044497</td>
      <td>0.170425</td>
      <td>0.109930</td>
      <td>0.069602</td>
      <td>...</td>
      <td>0.038201</td>
      <td>0.047932</td>
      <td>0.043533</td>
      <td>0.048213</td>
      <td>0.069961</td>
      <td>0.033635</td>
      <td>0.258270</td>
      <td>0.042687</td>
      <td>0.054859</td>
      <td>0.033777</td>
    </tr>
    <tr>
      <th>George Washington</th>
      <td>0.075427</td>
      <td>0.080150</td>
      <td>0.054498</td>
      <td>0.022271</td>
      <td>0.046189</td>
      <td>0.048199</td>
      <td>0.043466</td>
      <td>0.021537</td>
      <td>0.033813</td>
      <td>0.023598</td>
      <td>...</td>
      <td>0.056167</td>
      <td>0.028022</td>
      <td>0.075892</td>
      <td>0.047378</td>
      <td>0.038203</td>
      <td>0.039933</td>
      <td>0.022466</td>
      <td>0.030561</td>
      <td>0.040550</td>
      <td>0.058378</td>
    </tr>
    <tr>
      <th>Gerald R. Ford</th>
      <td>0.040651</td>
      <td>0.041807</td>
      <td>0.043266</td>
      <td>0.133494</td>
      <td>0.045676</td>
      <td>0.079921</td>
      <td>0.053701</td>
      <td>0.082173</td>
      <td>0.135036</td>
      <td>0.062518</td>
      <td>...</td>
      <td>0.035063</td>
      <td>0.051462</td>
      <td>0.039757</td>
      <td>0.051069</td>
      <td>0.071961</td>
      <td>0.044571</td>
      <td>0.183497</td>
      <td>0.041057</td>
      <td>0.048935</td>
      <td>0.039580</td>
    </tr>
    <tr>
      <th>Grover Cleveland</th>
      <td>0.117943</td>
      <td>0.128614</td>
      <td>0.102102</td>
      <td>0.036857</td>
      <td>0.129553</td>
      <td>0.088140</td>
      <td>0.141185</td>
      <td>0.043138</td>
      <td>0.070560</td>
      <td>0.049183</td>
      <td>...</td>
      <td>0.098994</td>
      <td>0.069918</td>
      <td>0.072758</td>
      <td>0.129015</td>
      <td>0.083239</td>
      <td>0.154388</td>
      <td>0.035827</td>
      <td>0.105645</td>
      <td>0.084410</td>
      <td>0.169106</td>
    </tr>
    <tr>
      <th>Harry S. Truman</th>
      <td>0.060982</td>
      <td>0.071213</td>
      <td>0.065671</td>
      <td>0.087225</td>
      <td>0.070839</td>
      <td>0.099180</td>
      <td>0.058541</td>
      <td>0.080372</td>
      <td>0.165834</td>
      <td>0.092160</td>
      <td>...</td>
      <td>0.055451</td>
      <td>0.064122</td>
      <td>0.054537</td>
      <td>0.079809</td>
      <td>0.106270</td>
      <td>0.081560</td>
      <td>0.105554</td>
      <td>0.059129</td>
      <td>0.081950</td>
      <td>0.079267</td>
    </tr>
    <tr>
      <th>Herbert Hoover</th>
      <td>0.103231</td>
      <td>0.079289</td>
      <td>0.081658</td>
      <td>0.070459</td>
      <td>0.111400</td>
      <td>0.127897</td>
      <td>0.128176</td>
      <td>0.049934</td>
      <td>0.146132</td>
      <td>0.097870</td>
      <td>...</td>
      <td>0.078349</td>
      <td>0.062296</td>
      <td>0.072092</td>
      <td>0.110752</td>
      <td>0.135878</td>
      <td>0.098500</td>
      <td>0.090548</td>
      <td>0.076114</td>
      <td>0.096796</td>
      <td>0.091948</td>
    </tr>
    <tr>
      <th>James Buchanan</th>
      <td>0.074219</td>
      <td>0.117172</td>
      <td>0.085650</td>
      <td>0.053138</td>
      <td>0.213879</td>
      <td>0.067012</td>
      <td>0.108787</td>
      <td>0.033511</td>
      <td>0.050480</td>
      <td>0.062365</td>
      <td>...</td>
      <td>0.181783</td>
      <td>0.050247</td>
      <td>0.071056</td>
      <td>0.138804</td>
      <td>0.063212</td>
      <td>0.083642</td>
      <td>0.036889</td>
      <td>0.143667</td>
      <td>0.058985</td>
      <td>0.117347</td>
    </tr>
    <tr>
      <th>James K. Polk</th>
      <td>0.108668</td>
      <td>0.127383</td>
      <td>0.080034</td>
      <td>0.034267</td>
      <td>0.083551</td>
      <td>0.063491</td>
      <td>0.086467</td>
      <td>0.037409</td>
      <td>0.050591</td>
      <td>0.038777</td>
      <td>...</td>
      <td>0.081692</td>
      <td>0.041648</td>
      <td>0.059918</td>
      <td>0.124555</td>
      <td>0.054302</td>
      <td>0.098106</td>
      <td>0.031113</td>
      <td>0.069200</td>
      <td>0.073058</td>
      <td>0.204857</td>
    </tr>
    <tr>
      <th>James Madison</th>
      <td>0.071391</td>
      <td>0.094473</td>
      <td>0.062079</td>
      <td>0.024049</td>
      <td>0.066594</td>
      <td>0.058868</td>
      <td>0.067699</td>
      <td>0.027369</td>
      <td>0.047359</td>
      <td>0.028658</td>
      <td>...</td>
      <td>0.071821</td>
      <td>0.037817</td>
      <td>0.098455</td>
      <td>0.088595</td>
      <td>0.049361</td>
      <td>0.056839</td>
      <td>0.027100</td>
      <td>0.063285</td>
      <td>0.035300</td>
      <td>0.113097</td>
    </tr>
    <tr>
      <th>James Monroe</th>
      <td>0.121900</td>
      <td>0.130480</td>
      <td>0.097276</td>
      <td>0.034281</td>
      <td>0.096656</td>
      <td>0.073366</td>
      <td>0.089977</td>
      <td>0.034260</td>
      <td>0.062603</td>
      <td>0.045482</td>
      <td>...</td>
      <td>0.076209</td>
      <td>0.049221</td>
      <td>0.112049</td>
      <td>0.125313</td>
      <td>0.073308</td>
      <td>0.077521</td>
      <td>0.033153</td>
      <td>0.085300</td>
      <td>0.060619</td>
      <td>0.129747</td>
    </tr>
    <tr>
      <th>Jimmy Carter</th>
      <td>0.038933</td>
      <td>0.046552</td>
      <td>0.046946</td>
      <td>0.240644</td>
      <td>0.048041</td>
      <td>0.088707</td>
      <td>0.047153</td>
      <td>0.162571</td>
      <td>0.159608</td>
      <td>0.088317</td>
      <td>...</td>
      <td>0.040429</td>
      <td>0.069212</td>
      <td>0.045362</td>
      <td>0.048941</td>
      <td>0.091093</td>
      <td>0.049687</td>
      <td>0.229270</td>
      <td>0.049615</td>
      <td>0.075476</td>
      <td>0.042085</td>
    </tr>
    <tr>
      <th>John Adams</th>
      <td>0.085961</td>
      <td>0.099759</td>
      <td>0.060527</td>
      <td>0.025965</td>
      <td>0.059714</td>
      <td>0.045513</td>
      <td>0.077210</td>
      <td>0.026649</td>
      <td>0.044619</td>
      <td>0.024816</td>
      <td>...</td>
      <td>0.053008</td>
      <td>0.042880</td>
      <td>0.083986</td>
      <td>0.104180</td>
      <td>0.036770</td>
      <td>0.063388</td>
      <td>0.029237</td>
      <td>0.067327</td>
      <td>0.038350</td>
      <td>0.110925</td>
    </tr>
    <tr>
      <th>John F. Kennedy</th>
      <td>0.054274</td>
      <td>0.064872</td>
      <td>0.067020</td>
      <td>0.145161</td>
      <td>0.064716</td>
      <td>0.087427</td>
      <td>0.052211</td>
      <td>0.091397</td>
      <td>0.166903</td>
      <td>0.082637</td>
      <td>...</td>
      <td>0.060584</td>
      <td>0.066535</td>
      <td>0.050081</td>
      <td>0.067712</td>
      <td>0.091555</td>
      <td>0.065329</td>
      <td>0.145564</td>
      <td>0.086820</td>
      <td>0.069619</td>
      <td>0.051925</td>
    </tr>
    <tr>
      <th>John Quincy Adams</th>
      <td>0.134975</td>
      <td>0.163353</td>
      <td>0.091024</td>
      <td>0.045042</td>
      <td>0.101502</td>
      <td>0.086493</td>
      <td>0.104866</td>
      <td>0.043737</td>
      <td>0.062438</td>
      <td>0.040328</td>
      <td>...</td>
      <td>0.084253</td>
      <td>0.063036</td>
      <td>0.126550</td>
      <td>0.123556</td>
      <td>0.071098</td>
      <td>0.098951</td>
      <td>0.040523</td>
      <td>0.082057</td>
      <td>0.072336</td>
      <td>0.149257</td>
    </tr>
    <tr>
      <th>John Tyler</th>
      <td>0.131702</td>
      <td>0.152333</td>
      <td>0.117307</td>
      <td>0.045652</td>
      <td>0.123190</td>
      <td>0.103976</td>
      <td>0.117884</td>
      <td>0.047375</td>
      <td>0.062916</td>
      <td>0.067584</td>
      <td>...</td>
      <td>0.141787</td>
      <td>0.081356</td>
      <td>0.119774</td>
      <td>0.153659</td>
      <td>0.101667</td>
      <td>0.120820</td>
      <td>0.052103</td>
      <td>0.113313</td>
      <td>0.072481</td>
      <td>0.170983</td>
    </tr>
    <tr>
      <th>Joseph R. Biden</th>
      <td>0.030122</td>
      <td>0.035307</td>
      <td>0.032910</td>
      <td>0.345184</td>
      <td>0.028887</td>
      <td>0.054890</td>
      <td>0.031472</td>
      <td>0.220390</td>
      <td>0.068947</td>
      <td>0.053099</td>
      <td>...</td>
      <td>0.021369</td>
      <td>0.050805</td>
      <td>0.034194</td>
      <td>0.039431</td>
      <td>0.052046</td>
      <td>0.028445</td>
      <td>0.306361</td>
      <td>0.027510</td>
      <td>0.054481</td>
      <td>0.033634</td>
    </tr>
    <tr>
      <th>Lyndon B. Johnson</th>
      <td>0.045479</td>
      <td>0.043621</td>
      <td>0.046318</td>
      <td>0.128715</td>
      <td>0.035904</td>
      <td>0.065005</td>
      <td>0.038097</td>
      <td>0.106125</td>
      <td>0.100885</td>
      <td>0.056544</td>
      <td>...</td>
      <td>0.033196</td>
      <td>0.058649</td>
      <td>0.040729</td>
      <td>0.053333</td>
      <td>0.065493</td>
      <td>0.042870</td>
      <td>0.168042</td>
      <td>0.054452</td>
      <td>0.047279</td>
      <td>0.036023</td>
    </tr>
    <tr>
      <th>Martin van Buren</th>
      <td>0.123016</td>
      <td>0.189609</td>
      <td>0.095427</td>
      <td>0.050744</td>
      <td>0.148065</td>
      <td>0.078894</td>
      <td>0.110916</td>
      <td>0.030465</td>
      <td>0.075507</td>
      <td>0.051770</td>
      <td>...</td>
      <td>0.114139</td>
      <td>0.069005</td>
      <td>0.121863</td>
      <td>0.127558</td>
      <td>0.084042</td>
      <td>0.114678</td>
      <td>0.043701</td>
      <td>0.112850</td>
      <td>0.086940</td>
      <td>0.182542</td>
    </tr>
    <tr>
      <th>Millard Fillmore</th>
      <td>0.128602</td>
      <td>0.168584</td>
      <td>0.111184</td>
      <td>0.040514</td>
      <td>0.116195</td>
      <td>0.083215</td>
      <td>0.112446</td>
      <td>0.046339</td>
      <td>0.078221</td>
      <td>0.067761</td>
      <td>...</td>
      <td>0.102227</td>
      <td>0.080306</td>
      <td>0.119655</td>
      <td>0.143147</td>
      <td>0.097297</td>
      <td>0.102903</td>
      <td>0.044584</td>
      <td>0.100449</td>
      <td>0.100466</td>
      <td>0.200081</td>
    </tr>
    <tr>
      <th>Richard Nixon</th>
      <td>0.039255</td>
      <td>0.049510</td>
      <td>0.062639</td>
      <td>0.139949</td>
      <td>0.042007</td>
      <td>0.068414</td>
      <td>0.038798</td>
      <td>0.105487</td>
      <td>0.136241</td>
      <td>0.066019</td>
      <td>...</td>
      <td>0.036937</td>
      <td>0.061997</td>
      <td>0.043634</td>
      <td>0.054097</td>
      <td>0.077172</td>
      <td>0.050246</td>
      <td>0.174663</td>
      <td>0.044486</td>
      <td>0.073935</td>
      <td>0.037279</td>
    </tr>
    <tr>
      <th>Ronald Reagan</th>
      <td>0.042896</td>
      <td>0.039901</td>
      <td>0.044701</td>
      <td>0.231009</td>
      <td>0.048165</td>
      <td>0.076235</td>
      <td>0.040150</td>
      <td>0.140081</td>
      <td>0.140061</td>
      <td>0.081909</td>
      <td>...</td>
      <td>0.034992</td>
      <td>0.052896</td>
      <td>0.045076</td>
      <td>0.049203</td>
      <td>0.080074</td>
      <td>0.039373</td>
      <td>0.300796</td>
      <td>0.046391</td>
      <td>0.057221</td>
      <td>0.038241</td>
    </tr>
    <tr>
      <th>Rutherford B. Hayes</th>
      <td>0.092012</td>
      <td>0.112656</td>
      <td>0.082619</td>
      <td>0.035344</td>
      <td>0.269502</td>
      <td>0.081089</td>
      <td>0.144648</td>
      <td>0.040511</td>
      <td>0.059357</td>
      <td>0.064508</td>
      <td>...</td>
      <td>1.000000</td>
      <td>0.058833</td>
      <td>0.074037</td>
      <td>0.131257</td>
      <td>0.078165</td>
      <td>0.077687</td>
      <td>0.046635</td>
      <td>0.139910</td>
      <td>0.066988</td>
      <td>0.097658</td>
    </tr>
    <tr>
      <th>Theodore Roosevelt</th>
      <td>0.056717</td>
      <td>0.070145</td>
      <td>0.077785</td>
      <td>0.069914</td>
      <td>0.057292</td>
      <td>0.087503</td>
      <td>0.045146</td>
      <td>0.077699</td>
      <td>0.074973</td>
      <td>0.072999</td>
      <td>...</td>
      <td>0.058833</td>
      <td>1.000000</td>
      <td>0.050832</td>
      <td>0.071917</td>
      <td>0.103435</td>
      <td>0.060783</td>
      <td>0.066718</td>
      <td>0.069393</td>
      <td>0.067994</td>
      <td>0.059469</td>
    </tr>
    <tr>
      <th>Thomas Jefferson</th>
      <td>0.110742</td>
      <td>0.117074</td>
      <td>0.093668</td>
      <td>0.054143</td>
      <td>0.080109</td>
      <td>0.077970</td>
      <td>0.063310</td>
      <td>0.046509</td>
      <td>0.060950</td>
      <td>0.052945</td>
      <td>...</td>
      <td>0.074037</td>
      <td>0.050832</td>
      <td>1.000000</td>
      <td>0.093839</td>
      <td>0.069619</td>
      <td>0.051927</td>
      <td>0.047307</td>
      <td>0.067414</td>
      <td>0.075135</td>
      <td>0.109134</td>
    </tr>
    <tr>
      <th>Ulysses S. Grant</th>
      <td>0.124756</td>
      <td>0.146622</td>
      <td>0.127001</td>
      <td>0.047495</td>
      <td>0.146124</td>
      <td>0.098388</td>
      <td>0.179516</td>
      <td>0.056097</td>
      <td>0.085503</td>
      <td>0.059127</td>
      <td>...</td>
      <td>0.131257</td>
      <td>0.071917</td>
      <td>0.093839</td>
      <td>1.000000</td>
      <td>0.091914</td>
      <td>0.121181</td>
      <td>0.060122</td>
      <td>0.167308</td>
      <td>0.080233</td>
      <td>0.137702</td>
    </tr>
    <tr>
      <th>Warren G. Harding</th>
      <td>0.082261</td>
      <td>0.092593</td>
      <td>0.090346</td>
      <td>0.073191</td>
      <td>0.080189</td>
      <td>0.128878</td>
      <td>0.066345</td>
      <td>0.065570</td>
      <td>0.107023</td>
      <td>0.094722</td>
      <td>...</td>
      <td>0.078165</td>
      <td>0.103435</td>
      <td>0.069619</td>
      <td>0.091914</td>
      <td>1.000000</td>
      <td>0.081010</td>
      <td>0.092189</td>
      <td>0.096931</td>
      <td>0.096031</td>
      <td>0.070389</td>
    </tr>
    <tr>
      <th>William Howard Taft</th>
      <td>0.092794</td>
      <td>0.113945</td>
      <td>0.077516</td>
      <td>0.049368</td>
      <td>0.125491</td>
      <td>0.092294</td>
      <td>0.137828</td>
      <td>0.040417</td>
      <td>0.072974</td>
      <td>0.054787</td>
      <td>...</td>
      <td>0.077687</td>
      <td>0.060783</td>
      <td>0.051927</td>
      <td>0.121181</td>
      <td>0.081010</td>
      <td>1.000000</td>
      <td>0.045340</td>
      <td>0.082594</td>
      <td>0.087100</td>
      <td>0.124097</td>
    </tr>
    <tr>
      <th>William J. Clinton</th>
      <td>0.046491</td>
      <td>0.050358</td>
      <td>0.049155</td>
      <td>0.317297</td>
      <td>0.049069</td>
      <td>0.076209</td>
      <td>0.045936</td>
      <td>0.183823</td>
      <td>0.128444</td>
      <td>0.086663</td>
      <td>...</td>
      <td>0.046635</td>
      <td>0.066718</td>
      <td>0.047307</td>
      <td>0.060122</td>
      <td>0.092189</td>
      <td>0.045340</td>
      <td>1.000000</td>
      <td>0.051195</td>
      <td>0.075808</td>
      <td>0.044786</td>
    </tr>
    <tr>
      <th>William McKinley</th>
      <td>0.113427</td>
      <td>0.102445</td>
      <td>0.080710</td>
      <td>0.050867</td>
      <td>0.142834</td>
      <td>0.074285</td>
      <td>0.123470</td>
      <td>0.042885</td>
      <td>0.065945</td>
      <td>0.063699</td>
      <td>...</td>
      <td>0.139910</td>
      <td>0.069393</td>
      <td>0.067414</td>
      <td>0.167308</td>
      <td>0.096931</td>
      <td>0.082594</td>
      <td>0.051195</td>
      <td>1.000000</td>
      <td>0.067011</td>
      <td>0.103954</td>
    </tr>
    <tr>
      <th>Woodrow Wilson</th>
      <td>0.077418</td>
      <td>0.086139</td>
      <td>0.082443</td>
      <td>0.064416</td>
      <td>0.076850</td>
      <td>0.086982</td>
      <td>0.059776</td>
      <td>0.056082</td>
      <td>0.104088</td>
      <td>0.077462</td>
      <td>...</td>
      <td>0.066988</td>
      <td>0.067994</td>
      <td>0.075135</td>
      <td>0.080233</td>
      <td>0.096031</td>
      <td>0.087100</td>
      <td>0.075808</td>
      <td>0.067011</td>
      <td>1.000000</td>
      <td>0.081701</td>
    </tr>
    <tr>
      <th>Zachary Taylor</th>
      <td>0.145153</td>
      <td>0.155541</td>
      <td>0.092401</td>
      <td>0.039508</td>
      <td>0.134368</td>
      <td>0.092193</td>
      <td>0.132799</td>
      <td>0.040505</td>
      <td>0.069061</td>
      <td>0.050414</td>
      <td>...</td>
      <td>0.097658</td>
      <td>0.059469</td>
      <td>0.109134</td>
      <td>0.137702</td>
      <td>0.070389</td>
      <td>0.124097</td>
      <td>0.044786</td>
      <td>0.103954</td>
      <td>0.081701</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
<p>43 rows × 43 columns</p>
</div>
</div>
</div>
<p>Here we can see the degree of similarity of each president’s speech with each other. There is no speech with similarity more than 40%.</p>
<div class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute the clusters from the similarity matrix,</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="co"># using the Ward variance minimization algorithm</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>Z <span class="op">=</span> hierarchy.linkage(sim_df, <span class="st">'ward'</span>)</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>plt.rcParams[<span class="st">'figure.figsize'</span>] <span class="op">=</span> [<span class="dv">10</span>,<span class="dv">20</span>]</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Display this result as a horizontal dendrogram</span></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> hierarchy.dendrogram(Z,  leaf_font_size<span class="op">=</span><span class="dv">20</span>, labels<span class="op">=</span>sim_df.index,  orientation<span class="op">=</span><span class="st">"left"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="presidents_analysis_files/figure-html/cell-28-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="interpretation-3" class="level2">
<h2 class="anchored" data-anchor-id="interpretation-3"><strong>Interpretation</strong></h2>
<p>In the dendrogram above, the presidents seem to be clustered based on the era that they served. Two big clusters are distinct – the green one which includes mostly recent presidents 20th and 21st century, and – the orange one which includes presidents of the 18th and 19th century.</p>
<ol start="5" type="1">
<li>Who was the president whose speech was the most similar to the speech of Biden in 2022?</li>
</ol>
<div class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>v <span class="op">=</span> sim_df[[<span class="st">'Joseph R. Biden'</span>]]</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>v</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="27">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Joseph R. Biden</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Abraham Lincoln</th>
      <td>0.030122</td>
    </tr>
    <tr>
      <th>Andrew Jackson</th>
      <td>0.035307</td>
    </tr>
    <tr>
      <th>Andrew Johnson</th>
      <td>0.032910</td>
    </tr>
    <tr>
      <th>Barack Obama</th>
      <td>0.345184</td>
    </tr>
    <tr>
      <th>Benjamin Harrison</th>
      <td>0.028887</td>
    </tr>
    <tr>
      <th>Calvin Coolidge</th>
      <td>0.054890</td>
    </tr>
    <tr>
      <th>Chester A. Arthur</th>
      <td>0.031472</td>
    </tr>
    <tr>
      <th>Donald J. Trump</th>
      <td>0.220390</td>
    </tr>
    <tr>
      <th>Dwight D. Eisenhower</th>
      <td>0.068947</td>
    </tr>
    <tr>
      <th>Franklin D. Roosevelt</th>
      <td>0.053099</td>
    </tr>
    <tr>
      <th>Franklin Pierce</th>
      <td>0.030974</td>
    </tr>
    <tr>
      <th>George Bush</th>
      <td>0.227037</td>
    </tr>
    <tr>
      <th>George W. Bush</th>
      <td>0.205001</td>
    </tr>
    <tr>
      <th>George Washington</th>
      <td>0.012446</td>
    </tr>
    <tr>
      <th>Gerald R. Ford</th>
      <td>0.094785</td>
    </tr>
    <tr>
      <th>Grover Cleveland</th>
      <td>0.025062</td>
    </tr>
    <tr>
      <th>Harry S. Truman</th>
      <td>0.052615</td>
    </tr>
    <tr>
      <th>Herbert Hoover</th>
      <td>0.045206</td>
    </tr>
    <tr>
      <th>James Buchanan</th>
      <td>0.024993</td>
    </tr>
    <tr>
      <th>James K. Polk</th>
      <td>0.038190</td>
    </tr>
    <tr>
      <th>James Madison</th>
      <td>0.016895</td>
    </tr>
    <tr>
      <th>James Monroe</th>
      <td>0.019880</td>
    </tr>
    <tr>
      <th>Jimmy Carter</th>
      <td>0.198534</td>
    </tr>
    <tr>
      <th>John Adams</th>
      <td>0.016608</td>
    </tr>
    <tr>
      <th>John F. Kennedy</th>
      <td>0.094466</td>
    </tr>
    <tr>
      <th>John Quincy Adams</th>
      <td>0.024704</td>
    </tr>
    <tr>
      <th>John Tyler</th>
      <td>0.035437</td>
    </tr>
    <tr>
      <th>Joseph R. Biden</th>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>Lyndon B. Johnson</th>
      <td>0.107517</td>
    </tr>
    <tr>
      <th>Martin van Buren</th>
      <td>0.030007</td>
    </tr>
    <tr>
      <th>Millard Fillmore</th>
      <td>0.024063</td>
    </tr>
    <tr>
      <th>Richard Nixon</th>
      <td>0.113265</td>
    </tr>
    <tr>
      <th>Ronald Reagan</th>
      <td>0.223184</td>
    </tr>
    <tr>
      <th>Rutherford B. Hayes</th>
      <td>0.021369</td>
    </tr>
    <tr>
      <th>Theodore Roosevelt</th>
      <td>0.050805</td>
    </tr>
    <tr>
      <th>Thomas Jefferson</th>
      <td>0.034194</td>
    </tr>
    <tr>
      <th>Ulysses S. Grant</th>
      <td>0.039431</td>
    </tr>
    <tr>
      <th>Warren G. Harding</th>
      <td>0.052046</td>
    </tr>
    <tr>
      <th>William Howard Taft</th>
      <td>0.028445</td>
    </tr>
    <tr>
      <th>William J. Clinton</th>
      <td>0.306361</td>
    </tr>
    <tr>
      <th>William McKinley</th>
      <td>0.027510</td>
    </tr>
    <tr>
      <th>Woodrow Wilson</th>
      <td>0.054481</td>
    </tr>
    <tr>
      <th>Zachary Taylor</th>
      <td>0.033634</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This is needed to display plots in a notebook</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>matplotlib inline</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>plt.rcParams[<span class="st">'figure.figsize'</span>] <span class="op">=</span> [<span class="dv">10</span>,<span class="dv">10</span>]</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Select the column corresponding to Biden's address and </span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>v <span class="op">=</span> sim_df[<span class="st">'Joseph R. Biden'</span>]</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort by ascending scores</span></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>v_sorted <span class="op">=</span> v.sort_values(ascending<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot this data has a horizontal bar plot</span></span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>v_sorted.plot.barh(x<span class="op">=</span><span class="st">'lab'</span>, y<span class="op">=</span><span class="st">'val'</span>, rot<span class="op">=</span><span class="dv">0</span>).plot()</span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Modify the axes labels and plot title for better readability</span></span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Cosine distance"</span>)</span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">""</span>)</span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Most similar to Biden's"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="28">
<pre><code>Text(0.5, 1.0, "Most similar to Biden's")</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="presidents_analysis_files/figure-html/cell-30-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="interpretation-4" class="level2">
<h2 class="anchored" data-anchor-id="interpretation-4"><strong>Interpretation</strong></h2>
<p>Biden’s address is most similar to that of Obama’s, follwed by Clinton and George Bush. As we can see, George Washington, John Adams and James Madison are the least similar to Biden. This can be explained by the different eras that each president lived. Speeches in 18th century are different than speeches of today. Biden’s speech similarity with Obama and Clinton makes sense also because they are all recently elected democrats.</p>
<ol start="5" type="1">
<li>Bonus points: (5 points): Develop and algorithm that can allow you to determine if the speech was given by a Democrat or by a republican.</li>
</ol>
<p>PS2: I will go over this homework on Thursday to help you think through how to solve it. You will be able to recycle a lot of code discussed.</p>
<div class="cell" data-scrolled="true" data-execution_count="29">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>speeches</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="29">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>president</th>
      <th>year</th>
      <th>party</th>
      <th>html</th>
      <th>top ten</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Hoover</td>
      <td>1929</td>
      <td>republican</td>
      <td>https://www.presidency.ucsb.edu/documents/annu...</td>
      <td>[('public', 33),('law', 25),('service', 23),('...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>FD_Roosvelt</td>
      <td>1934</td>
      <td>democrat</td>
      <td>https://www.presidency.ucsb.edu/documents/annu...</td>
      <td>[('industrial', 9),('work', 8),('recovery', 7)...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Truman</td>
      <td>1949</td>
      <td>democrat</td>
      <td>https://www.presidency.ucsb.edu/documents/annu...</td>
      <td>[('prosperity', 12),('production', 12),('power...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Eisenhower</td>
      <td>1957</td>
      <td>republican</td>
      <td>https://www.presidency.ucsb.edu/documents/annu...</td>
      <td>[('free', 16),('security', 16),('economy', 12)...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Kennedy</td>
      <td>1961</td>
      <td>democrat</td>
      <td>https://www.presidency.ucsb.edu/documents/annu...</td>
      <td>[('economic', 16),('development', 10),('peace'...</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Lyndon</td>
      <td>1965</td>
      <td>democrat</td>
      <td>https://www.presidency.ucsb.edu/documents/annu...</td>
      <td>[('freedom', 12),('life', 9),('progress', 8),(...</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Nixon</td>
      <td>1974</td>
      <td>republican</td>
      <td>https://www.presidency.ucsb.edu/documents/addr...</td>
      <td>[('peace', 27),('energy', 17),('war', 8),('pro...</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Ford</td>
      <td>1975</td>
      <td>republican</td>
      <td>https://www.presidency.ucsb.edu/documents/addr...</td>
      <td>[('energy', 25),('oil', 20),('tax', 17),('econ...</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Carter</td>
      <td>1978</td>
      <td>democrat</td>
      <td>https://www.presidency.ucsb.edu/documents/the-...</td>
      <td>[('inflation', 17),('economic', 14),('tax', 13...</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Reagan</td>
      <td>1985</td>
      <td>republican</td>
      <td>https://www.presidency.ucsb.edu/documents/addr...</td>
      <td>[('freedom', 20),('tax', 16),('growth', 14),('...</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Bush</td>
      <td>1989</td>
      <td>republican</td>
      <td>https://www.presidency.ucsb.edu/documents/addr...</td>
      <td>[('budget', 17),('work', 12),('hope', 10),('dr...</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Clinton</td>
      <td>1997</td>
      <td>democrat</td>
      <td>https://www.presidency.ucsb.edu/documents/addr...</td>
      <td>[('children', 24),('work', 21),('budget', 17),...</td>
    </tr>
    <tr>
      <th>12</th>
      <td>Bush</td>
      <td>2005</td>
      <td>republican</td>
      <td>https://www.presidency.ucsb.edu/documents/addr...</td>
      <td>[('security', 29),('freedom', 20),('social', 1...</td>
    </tr>
    <tr>
      <th>13</th>
      <td>Obama</td>
      <td>2013</td>
      <td>democrat</td>
      <td>https://www.presidency.ucsb.edu/documents/addr...</td>
      <td>[('jobs', 32),('work', 20),('energy', 18),('fa...</td>
    </tr>
    <tr>
      <th>14</th>
      <td>Trump</td>
      <td>2018</td>
      <td>republican</td>
      <td>https://www.presidency.ucsb.edu/documents/addr...</td>
      <td>[('tax', 15),('last', 13),('together', 13),('w...</td>
    </tr>
    <tr>
      <th>15</th>
      <td>Joe</td>
      <td>2022</td>
      <td>democrat</td>
      <td>https://www.presidency.ucsb.edu/documents/addr...</td>
      <td>[('folks', 19),('see', 15),('families', 15),('...</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>df2[[<span class="dv">0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="30">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>0</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Address Before a Joint Session of the Congress...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Address Before a Joint Session of Congress on ...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Address Before a Joint Session of Congress on ...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Annual Message to the Congress on the State of...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Radio Address Summarizing the State of the Uni...</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Fifth Annual Message | The American Presidency...</td>
    </tr>
    <tr>
      <th>6</th>
      <td>First Annual Message | The American Presidency...</td>
    </tr>
    <tr>
      <th>7</th>
      <td>First Annual Message | The American Presidency...</td>
    </tr>
    <tr>
      <th>8</th>
      <td>First Annual Message | The American Presidency...</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Fifth Annual Message | The American Presidency...</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Fifth Annual Message | The American Presidency...</td>
    </tr>
    <tr>
      <th>11</th>
      <td>State of the Union Message to the Congress: Ov...</td>
    </tr>
    <tr>
      <th>12</th>
      <td>State of the Union Message to the Congress on ...</td>
    </tr>
    <tr>
      <th>13</th>
      <td>Address Before a Joint Session of the Congress...</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>state_speeches <span class="op">=</span> pd.read_excel(<span class="st">'state_speeches.xlsx'</span>)</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>state_speeches</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="31">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>president</th>
      <th>year</th>
      <th>party</th>
      <th>html</th>
      <th>address</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Hoover</td>
      <td>1929</td>
      <td>republican</td>
      <td>https://www.presidency.ucsb.edu/documents/annu...</td>
      <td>The Constitution requires that the President "...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>FD_Roosvelt</td>
      <td>1934</td>
      <td>democrat</td>
      <td>https://www.presidency.ucsb.edu/documents/annu...</td>
      <td>I COME before you at the opening of the Regula...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Truman</td>
      <td>1949</td>
      <td>democrat</td>
      <td>https://www.presidency.ucsb.edu/documents/annu...</td>
      <td>I am happy to report to this 81st Congress tha...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Eisenhower</td>
      <td>1957</td>
      <td>republican</td>
      <td>https://www.presidency.ucsb.edu/documents/annu...</td>
      <td>I appear before the Congress today to report o...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Kennedy</td>
      <td>1961</td>
      <td>democrat</td>
      <td>https://www.presidency.ucsb.edu/documents/annu...</td>
      <td>It is a pleasure to return from whence I came....</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Lyndon</td>
      <td>1965</td>
      <td>democrat</td>
      <td>https://www.presidency.ucsb.edu/documents/annu...</td>
      <td>On this Hill which was my home, I am stirred b...</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Nixon</td>
      <td>1974</td>
      <td>republican</td>
      <td>https://www.presidency.ucsb.edu/documents/addr...</td>
      <td>We meet here tonight at a time of great challe...</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Ford</td>
      <td>1975</td>
      <td>republican</td>
      <td>https://www.presidency.ucsb.edu/documents/addr...</td>
      <td>Twenty-six years ago, a freshman Congressman, ...</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Carter</td>
      <td>1978</td>
      <td>democrat</td>
      <td>https://www.presidency.ucsb.edu/documents/the-...</td>
      <td>Two years ago today we had the first caucus in...</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Reagan</td>
      <td>1985</td>
      <td>republican</td>
      <td>https://www.presidency.ucsb.edu/documents/addr...</td>
      <td>I come before you to report on the state of ou...</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Bush</td>
      <td>1989</td>
      <td>republican</td>
      <td>https://www.presidency.ucsb.edu/documents/addr...</td>
      <td>Mr. Speaker, Mr. President, and distinguished ...</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Clinton</td>
      <td>1997</td>
      <td>democrat</td>
      <td>https://www.presidency.ucsb.edu/documents/addr...</td>
      <td>Mr. Speaker, Mr. Vice President, Members of th...</td>
    </tr>
    <tr>
      <th>12</th>
      <td>Bush</td>
      <td>2005</td>
      <td>republican</td>
      <td>https://www.presidency.ucsb.edu/documents/addr...</td>
      <td>As a new Congress gathers, all of us in the el...</td>
    </tr>
    <tr>
      <th>13</th>
      <td>Obama</td>
      <td>2013</td>
      <td>democrat</td>
      <td>https://www.presidency.ucsb.edu/documents/addr...</td>
      <td>Please, everybody, have a seat. Mr. Speaker, M...</td>
    </tr>
    <tr>
      <th>14</th>
      <td>Trump</td>
      <td>2018</td>
      <td>republican</td>
      <td>https://www.presidency.ucsb.edu/documents/addr...</td>
      <td>The President. Mr. Speaker, Mr. Vice President...</td>
    </tr>
    <tr>
      <th>15</th>
      <td>Joe</td>
      <td>2022</td>
      <td>democrat</td>
      <td>https://www.presidency.ucsb.edu/documents/addr...</td>
      <td>The President. Thank you all very, very much. ...</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Split training and testing data</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>X_train, X_test, y_train, y_test <span class="op">=</span> train_test_split(state_speeches[<span class="st">'address'</span>], state_speeches[<span class="st">'party'</span>], test_size<span class="op">=</span><span class="fl">0.3</span>, </span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>                 random_state<span class="op">=</span><span class="dv">53</span>)</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize count vectorizer</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>count_vectorizer <span class="op">=</span> CountVectorizer(stop_words<span class="op">=</span><span class="st">'english'</span>, </span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>                                   min_df<span class="op">=</span><span class="fl">0.05</span>, max_df<span class="op">=</span><span class="fl">0.9</span>)</span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Create count train and test variables</span></span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>count_train <span class="op">=</span> count_vectorizer.fit_transform(X_train)</span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a>count_test <span class="op">=</span> count_vectorizer.transform(X_test)</span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize tfidf vectorizer</span></span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a>tfidf_vectorizer <span class="op">=</span> TfidfVectorizer(stop_words<span class="op">=</span><span class="st">'english'</span>, </span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a>                                   min_df<span class="op">=</span><span class="fl">0.05</span>, max_df<span class="op">=</span><span class="fl">0.9</span>)</span>
<span id="cb45-17"><a href="#cb45-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-18"><a href="#cb45-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-19"><a href="#cb45-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Create tfidf train and test variables</span></span>
<span id="cb45-20"><a href="#cb45-20" aria-hidden="true" tabindex="-1"></a>tfidf_train <span class="op">=</span> tfidf_vectorizer.fit_transform(X_train)</span>
<span id="cb45-21"><a href="#cb45-21" aria-hidden="true" tabindex="-1"></a>tfidf_test <span class="op">=</span> tfidf_vectorizer.transform(X_test)</span>
<span id="cb45-22"><a href="#cb45-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-23"><a href="#cb45-23" aria-hidden="true" tabindex="-1"></a>tfidf_nb <span class="op">=</span> MultinomialNB()</span>
<span id="cb45-24"><a href="#cb45-24" aria-hidden="true" tabindex="-1"></a>tfidf_nb.fit(tfidf_train, y_train)</span>
<span id="cb45-25"><a href="#cb45-25" aria-hidden="true" tabindex="-1"></a>tfidf_nb_pred <span class="op">=</span> tfidf_nb.predict(tfidf_test)</span>
<span id="cb45-26"><a href="#cb45-26" aria-hidden="true" tabindex="-1"></a>tfidf_nb_score <span class="op">=</span> metrics.accuracy_score(y_test, tfidf_nb_pred)</span>
<span id="cb45-27"><a href="#cb45-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-28"><a href="#cb45-28" aria-hidden="true" tabindex="-1"></a>count_nb <span class="op">=</span> MultinomialNB()</span>
<span id="cb45-29"><a href="#cb45-29" aria-hidden="true" tabindex="-1"></a>count_nb.fit(count_train, y_train)</span>
<span id="cb45-30"><a href="#cb45-30" aria-hidden="true" tabindex="-1"></a>count_nb_pred <span class="op">=</span> count_nb.predict(count_test)</span>
<span id="cb45-31"><a href="#cb45-31" aria-hidden="true" tabindex="-1"></a>count_nb_score <span class="op">=</span> metrics.accuracy_score(y_test, count_nb_pred)</span>
<span id="cb45-32"><a href="#cb45-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-33"><a href="#cb45-33" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'NaiveBayes Tfidf Score: '</span>, tfidf_nb_score)</span>
<span id="cb45-34"><a href="#cb45-34" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'NaiveBayes Count Score: '</span>, count_nb_score)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>NaiveBayes Tfidf Score:  0.2
NaiveBayes Count Score:  0.2</code></pre>
</div>
</div>
<div class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>matplotlib inline</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> plot_confusion_matrix</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>tfidf_nb_cm <span class="op">=</span> metrics.confusion_matrix(y_test, tfidf_nb_pred, labels<span class="op">=</span>[<span class="st">'republican'</span>, <span class="st">'democrat'</span>])</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>count_nb_cm <span class="op">=</span> metrics.confusion_matrix(y_test, count_nb_pred, labels<span class="op">=</span>[<span class="st">'republican'</span>, <span class="st">'democrat'</span>])</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a><span class="co"># plot_confusion_matrix(tfidf_nb_cm, classes=['republican', 'democrat'], title="TF-IDF NB Confusion Matrix")</span></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a><span class="co"># plot_confusion_matrix(count_nb_cm, classes=['republican', 'democrat'], title="Count NB Confusion Matrix", figure=1)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="interpretation-5" class="level2">
<h2 class="anchored" data-anchor-id="interpretation-5"><strong>Interpretation</strong></h2>
<p>It looks like that algorithm’s power to identify whether the speech comes from a democrat or a republican is only 20%. In this case, for the algorithm to get stronger, more speeches are necessary from both sides, and maybe more text cleaning.</p>
<div class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>pip install jupyterthemes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Requirement already satisfied: jupyterthemes in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (0.20.0)
Requirement already satisfied: matplotlib&gt;=1.4.3 in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from jupyterthemes) (3.4.3)
Requirement already satisfied: lesscpy&gt;=0.11.2 in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from jupyterthemes) (0.15.0)
Requirement already satisfied: notebook&gt;=5.6.0 in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from jupyterthemes) (6.4.5)
Requirement already satisfied: ipython&gt;=5.4.1 in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from jupyterthemes) (7.29.0)
Requirement already satisfied: jupyter-core in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from jupyterthemes) (4.8.1)
Requirement already satisfied: setuptools&gt;=18.5 in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from ipython&gt;=5.4.1-&gt;jupyterthemes) (58.0.4)
Requirement already satisfied: appnope in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from ipython&gt;=5.4.1-&gt;jupyterthemes) (0.1.2)
Requirement already satisfied: traitlets&gt;=4.2 in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from ipython&gt;=5.4.1-&gt;jupyterthemes) (5.1.0)
Requirement already satisfied: prompt-toolkit!=3.0.0,!=3.0.1,&lt;3.1.0,&gt;=2.0.0 in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from ipython&gt;=5.4.1-&gt;jupyterthemes) (3.0.20)
Requirement already satisfied: pygments in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from ipython&gt;=5.4.1-&gt;jupyterthemes) (2.10.0)
Requirement already satisfied: backcall in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from ipython&gt;=5.4.1-&gt;jupyterthemes) (0.2.0)
Requirement already satisfied: pexpect&gt;4.3 in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from ipython&gt;=5.4.1-&gt;jupyterthemes) (4.8.0)
Requirement already satisfied: matplotlib-inline in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from ipython&gt;=5.4.1-&gt;jupyterthemes) (0.1.2)
Requirement already satisfied: decorator in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from ipython&gt;=5.4.1-&gt;jupyterthemes) (5.1.0)
Requirement already satisfied: pickleshare in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from ipython&gt;=5.4.1-&gt;jupyterthemes) (0.7.5)
Requirement already satisfied: jedi&gt;=0.16 in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from ipython&gt;=5.4.1-&gt;jupyterthemes) (0.18.0)
Requirement already satisfied: parso&lt;0.9.0,&gt;=0.8.0 in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from jedi&gt;=0.16-&gt;ipython&gt;=5.4.1-&gt;jupyterthemes) (0.8.2)
Requirement already satisfied: six in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from lesscpy&gt;=0.11.2-&gt;jupyterthemes) (1.16.0)
Requirement already satisfied: ply in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from lesscpy&gt;=0.11.2-&gt;jupyterthemes) (3.11)
Requirement already satisfied: python-dateutil&gt;=2.7 in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from matplotlib&gt;=1.4.3-&gt;jupyterthemes) (2.8.2)
Requirement already satisfied: cycler&gt;=0.10 in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from matplotlib&gt;=1.4.3-&gt;jupyterthemes) (0.10.0)
Requirement already satisfied: kiwisolver&gt;=1.0.1 in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from matplotlib&gt;=1.4.3-&gt;jupyterthemes) (1.3.1)
Requirement already satisfied: pyparsing&gt;=2.2.1 in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from matplotlib&gt;=1.4.3-&gt;jupyterthemes) (3.0.4)
Requirement already satisfied: pillow&gt;=6.2.0 in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from matplotlib&gt;=1.4.3-&gt;jupyterthemes) (8.4.0)
Requirement already satisfied: numpy&gt;=1.16 in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from matplotlib&gt;=1.4.3-&gt;jupyterthemes) (1.20.3)
Requirement already satisfied: jinja2 in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from notebook&gt;=5.6.0-&gt;jupyterthemes) (2.11.3)
Requirement already satisfied: pyzmq&gt;=17 in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from notebook&gt;=5.6.0-&gt;jupyterthemes) (22.2.1)
Requirement already satisfied: argon2-cffi in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from notebook&gt;=5.6.0-&gt;jupyterthemes) (20.1.0)
Requirement already satisfied: jupyter-client&gt;=5.3.4 in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from notebook&gt;=5.6.0-&gt;jupyterthemes) (6.1.12)
Requirement already satisfied: Send2Trash&gt;=1.5.0 in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from notebook&gt;=5.6.0-&gt;jupyterthemes) (1.8.0)
Requirement already satisfied: prometheus-client in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from notebook&gt;=5.6.0-&gt;jupyterthemes) (0.11.0)
Requirement already satisfied: nbformat in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from notebook&gt;=5.6.0-&gt;jupyterthemes) (5.1.3)
Requirement already satisfied: ipykernel in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from notebook&gt;=5.6.0-&gt;jupyterthemes) (6.4.1)
Requirement already satisfied: ipython-genutils in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from notebook&gt;=5.6.0-&gt;jupyterthemes) (0.2.0)
Requirement already satisfied: tornado&gt;=6.1 in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from notebook&gt;=5.6.0-&gt;jupyterthemes) (6.1)
Requirement already satisfied: terminado&gt;=0.8.3 in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from notebook&gt;=5.6.0-&gt;jupyterthemes) (0.9.4)
Requirement already satisfied: nbconvert in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from notebook&gt;=5.6.0-&gt;jupyterthemes) (6.1.0)
Requirement already satisfied: ptyprocess&gt;=0.5 in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from pexpect&gt;4.3-&gt;ipython&gt;=5.4.1-&gt;jupyterthemes) (0.7.0)
Requirement already satisfied: wcwidth in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from prompt-toolkit!=3.0.0,!=3.0.1,&lt;3.1.0,&gt;=2.0.0-&gt;ipython&gt;=5.4.1-&gt;jupyterthemes) (0.2.5)
Requirement already satisfied: cffi&gt;=1.0.0 in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from argon2-cffi-&gt;notebook&gt;=5.6.0-&gt;jupyterthemes) (1.14.6)
Requirement already satisfied: pycparser in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from cffi&gt;=1.0.0-&gt;argon2-cffi-&gt;notebook&gt;=5.6.0-&gt;jupyterthemes) (2.20)
Requirement already satisfied: debugpy&lt;2.0,&gt;=1.0.0 in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from ipykernel-&gt;notebook&gt;=5.6.0-&gt;jupyterthemes) (1.4.1)
Requirement already satisfied: MarkupSafe&gt;=0.23 in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from jinja2-&gt;notebook&gt;=5.6.0-&gt;jupyterthemes) (1.1.1)
Requirement already satisfied: entrypoints&gt;=0.2.2 in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from nbconvert-&gt;notebook&gt;=5.6.0-&gt;jupyterthemes) (0.3)
Requirement already satisfied: jupyterlab-pygments in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from nbconvert-&gt;notebook&gt;=5.6.0-&gt;jupyterthemes) (0.1.2)
Requirement already satisfied: pandocfilters&gt;=1.4.1 in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from nbconvert-&gt;notebook&gt;=5.6.0-&gt;jupyterthemes) (1.4.3)
Requirement already satisfied: nbclient&lt;0.6.0,&gt;=0.5.0 in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from nbconvert-&gt;notebook&gt;=5.6.0-&gt;jupyterthemes) (0.5.3)
Requirement already satisfied: bleach in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from nbconvert-&gt;notebook&gt;=5.6.0-&gt;jupyterthemes) (4.0.0)
Requirement already satisfied: testpath in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from nbconvert-&gt;notebook&gt;=5.6.0-&gt;jupyterthemes) (0.5.0)
Requirement already satisfied: defusedxml in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from nbconvert-&gt;notebook&gt;=5.6.0-&gt;jupyterthemes) (0.7.1)
Requirement already satisfied: mistune&lt;2,&gt;=0.8.1 in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from nbconvert-&gt;notebook&gt;=5.6.0-&gt;jupyterthemes) (0.8.4)
Requirement already satisfied: async-generator in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from nbclient&lt;0.6.0,&gt;=0.5.0-&gt;nbconvert-&gt;notebook&gt;=5.6.0-&gt;jupyterthemes) (1.10)
Requirement already satisfied: nest-asyncio in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from nbclient&lt;0.6.0,&gt;=0.5.0-&gt;nbconvert-&gt;notebook&gt;=5.6.0-&gt;jupyterthemes) (1.5.1)
Requirement already satisfied: jsonschema!=2.5.0,&gt;=2.4 in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from nbformat-&gt;notebook&gt;=5.6.0-&gt;jupyterthemes) (3.2.0)
Requirement already satisfied: attrs&gt;=17.4.0 in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from jsonschema!=2.5.0,&gt;=2.4-&gt;nbformat-&gt;notebook&gt;=5.6.0-&gt;jupyterthemes) (21.2.0)
Requirement already satisfied: pyrsistent&gt;=0.14.0 in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from jsonschema!=2.5.0,&gt;=2.4-&gt;nbformat-&gt;notebook&gt;=5.6.0-&gt;jupyterthemes) (0.18.0)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Requirement already satisfied: packaging in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from bleach-&gt;nbconvert-&gt;notebook&gt;=5.6.0-&gt;jupyterthemes) (21.0)
Requirement already satisfied: webencodings in /Users/loizoskon/opt/anaconda3/lib/python3.9/site-packages (from bleach-&gt;nbconvert-&gt;notebook&gt;=5.6.0-&gt;jupyterthemes) (0.5.1)
Note: you may need to restart the kernel to use updated packages.</code></pre>
</div>
</div>
<div class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>jt <span class="op">-</span>l</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Available Themes: 
   chesterish
   grade3
   gruvboxd
   gruvboxl
   monokai
   oceans16
   onedork
   solarizedd
   solarizedl</code></pre>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>